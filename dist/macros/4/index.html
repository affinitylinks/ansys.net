
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="LDFbsFtoiZlBNqruvC2wK8sObZtsKGqwvzvcPB0y1mE" />
    <meta name="yandex-verification" content="7c0f79b635678935" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJH9XZY2MY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJH9XZY2MY');
    </script>

    <title>sheldon&#39;s ansys.net-macro</title>
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>

    <script async src="https://cse.google.com/cse.js?cx=904d4317f81cbaf46"></script>

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="ansys.net">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="ansys.net">

    <title>sheldon&#39;s ansys.net</title>
  </head>
  <body class="bg-success">
    <nav class="site-nav family-sans navbar navbar-expand-md bg-success navbar-dark sticky-top py-0">
  <div class="container-fluid">

    <button type="button" class="navbar-toggler my-2 my-md-0"
      data-toggle="collapse" data-target="#myTogglerNav"
      aria-controls="myTogglerNav" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-brand text-uppercase">
      <a class="text-light" href="/">ANSYS</a>
    </div>

    <div class="collapse navbar-collapse text-center mt-0" id="myTogglerNav">
      <div class="navbar-nav ml-auto font-weight-regular text-uppercase">
        <a class="nav-item nav-link" href="/"><i class="fas fa-home"></i></a>

        <a class="nav-item nav-link" href="/macros/0/">macros</a><a class="nav-item nav-link" href="/examples/0/">examples</a><a class="nav-item nav-link" href="/resources/0/">resources</a><a class="nav-item nav-link" href="/miscellaneous/0/">misc</a><a class="nav-item nav-link" href="/html/0">HTML</a>
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item text-capitalize" href="/about">About</a>
            <div class="dropdown-divider"></div><a class="dropdown-item text-capitalize" target="_blank" href="https://github.com/affinitylinks/ansys.net">
                <i class="fab fa-github text-secondary mr-2"></i>github
              </a></div>
        </div>

      </div>
    </div>

  </div>
</nav>

    <div class="row">
      <div class="col">
        <div class="bg-light">
          <div class="conatainer">
            <div class="gcse-search">...</div>
          </div>
          
<main class="container py-4">
  <h1 class="mb-3 text-center">Macros</h1>
<nav class="my-3" aria-label="Page navigation">
  <div class="pagination pagination-sm justify-content-center">
  <div class="page-item">
    <a class="page-link" href="/macros/3/index.html"><i class="fas fa-arrow-left"></i></a>
  </div>
  <div class="page-item "><a class="page-link" href="/macros/0/index.html">1</a></div>
  <div class="page-item "><a class="page-link" href="/macros/1/index.html">2</a></div>
  <div class="page-item "><a class="page-link" href="/macros/2/index.html">3</a></div>
  <div class="page-item "><a class="page-link" href="/macros/3/index.html">4</a></div>
  <div class="page-item active"><a class="page-link" href="/macros/4/index.html">5</a></div>
  <div class="page-item "><a class="page-link" href="/macros/5/index.html">6</a></div>
  <div class="page-item "><a class="page-link" href="/macros/6/index.html">7</a></div>
  <div class="page-item "><a class="page-link" href="/macros/7/index.html">8</a></div>
  <div class="page-item">
    <a class="page-link" href="/macros/5/index.html"><i class="fas fa-arrow-right"></i></a>
  </div>
  </div>
</nav>
<ul class="list-group"><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/kpmv.mac" target="_blank"> kpmv.mac</a></p>
<p class="font-italic"></p>
<p>kpmv.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/l_nlist.mac" target="_blank"> l_nlist.mac</a></p>
<p class="font-italic">Chris Bridge (2H Offshore Engineering Ltd)</p>
<p>A macro to list selected nodes but in a specified format without repeated header information.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/lcolor.mac" target="_blank"> lcolor.mac</a></p>
<p class="font-italic">Jimmy Carlsson (AF Group)</p>
<p>This macro colors lines as follows:</p>
<p>Red: Line connected only to one of selected areas<br>
Yellow: Line connected to two of the selected areas<br>
Blue: Line connected to three or more selected areas<br>
Magenta: Line is not connected to any of the selected areas</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/7/listtype.mac" target="_blank"> listtype.mac</a></p>
<p class="font-italic">Sheldon Imaoka (ANSYS, Inc.)</p>
<p>Macro used to list all unique combinations of element type, real constant, section type, and material properties of currently selected elements. Useful, for example, when importing mesh from Workbench or other software into ANSYS and confirming settings.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/listcm.mac" target="_blank"> listcm.mac</a></p>
<p class="font-italic">Sheldon Imaoka (ANSYS, Inc.)</p>
<p>At 7.0, the CMLIST command only lists selected components rather than all existing components in the database (pre-7.0 behavior). This macro provides a listing of all components in the database, regardless of their selection status. May be useful to get pre-7.0 behavior of CMLIST</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/lproj.mac" target="_blank"> lproj.mac</a></p>
<p class="font-italic"></p>
<p>lproj.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/lregen.mac" target="_blank"> lregen.mac</a></p>
<p class="font-italic"></p>
<p>lregen.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/3/lstdbdoc.mac" target="_blank"> lstdbdoc.mac</a></p>
<p class="font-italic">Chris Kennedy (Think PEAK, Inc.)</p>
<p>This macro finds all :LBL constructs in the database. A :LBL can be any valid Ansys characters following a colon &quot;:&quot;. Therefore you can have different labels for different aspects of your model, such as :MAT for material info, :REAL for real constant information, :INFO for general notes about the analysis, etc. Labels can be repeated.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/m55to54.mac" target="_blank"> m55to54.mac</a></p>
<p class="font-italic">(ANSYS, Inc.)</p>
<p>Converts 5.5 CDB file to 5.4 format (for backwards compatibility).</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/makemesh.mac" target="_blank"> makemesh.mac</a></p>
<p class="font-italic"></p>
<p>makemesh.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/0/mapme.mac" target="_blank"> mapme.mac</a></p>
<p class="font-italic">Sheldon Imaoka (ANSYS, Inc.)</p>
<p>General macro used to map one set of values &amp; (x,y,z) coordinates to another. Uses *MOPER,,,MAP.</p>
<p>Example input file can be found here which uses this macro. In this input example, *VPUT is used to compare mapping UX, UY, and UZ from one mesh to another. This can be used to map pressures, heat flux, convection, etc. from CFD codes to ANSYS, for example.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/3/massprop.mac" target="_blank"> massprop.mac</a></p>
<p class="font-italic"></p>
<p>massprop.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/7/mavgtemp.mac" target="_blank"> mavgtemp.mac</a></p>
<p class="font-italic"></p>
<p>mavgtemp.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/mg.mac" target="_blank"> mg.mac</a></p>
<p class="font-italic">John Crawford (Honeywell)</p>
<p>Zooms in, out or autoscales images then does a replot<br>
&quot;When I want to zoom in by a factor of two I enter MG,2. If I want to zoom out I enter something like MG,.1. If I want to autoscale I just enter MG. It replots the last display, which is usually what I want to do anyway.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/midstres.mac" target="_blank"> midstres.mac</a></p>
<p class="font-italic"></p>
<p>midstres.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/Miners-Rule.mac" target="_blank"> miners-Rule.mac</a></p>
<p class="font-italic"></p>
<p>Miners-Rule.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/mk_mwrite.mac" target="_blank"> mk_mwrite.mac</a></p>
<p class="font-italic">Matt Sutton (PADT, Inc.)</p>
<p>This is a macro to write out arrays of user-specified width. Usually, when writing a macro, one has to specify the format of *MWRITE beforehand. This is a technique of a macro writing a macro for formatting purposes.</p>
<p>The history of this is from XANSYS on the following post (search for &quot;mk_mwrite&quot;).</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/7/mkweb.mac" target="_blank"> mkweb.mac</a></p>
<p class="font-italic"></p>
<p>mkweb.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/modeshap.mac" target="_blank"> modeshap.mac</a></p>
<p class="font-italic"></p>
<p>modeshap.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/mpc_gen.mac" target="_blank"> mpc_gen.mac</a></p>
<p class="font-italic"></p>
<p>mpc_gen.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/mpscale.mac" target="_blank"> mpscale.mac</a></p>
<p class="font-italic"></p>
<p>mpscale.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/mshdvols.mac" target="_blank"> mshdvols.mac</a></p>
<p class="font-italic"></p>
<p>mshdvols.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/3/multp2.mac" target="_blank"> multp2.mac</a></p>
<p class="font-italic"></p>
<p>multp2.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/multread.mac" target="_blank"> multread.mac</a></p>
<p class="font-italic"></p>
<p>multread.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/mvsum.mac" target="_blank"> mvsum.mac</a></p>
<p class="font-italic"></p>
<p>mvsum.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/mwrite.mac" target="_blank"> mwrite.mac</a></p>
<p class="font-italic">Matt Sutton (PADT)</p>
<p>Macro to write arrays to file. This macro actually uses Tcl/Tk to write another macro, which is then invoked.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/my_rot.mac" target="_blank"> my_rot.mac</a></p>
<p class="font-italic"></p>
<p>my_rot.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/0/myanim.mac" target="_blank"> myanim.mac</a></p>
<p class="font-italic"></p>
<p>myanim.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/NS_From_Unique_Names.js" target="_blank"> nS_From_Unique_Names.j</a></p>
<p class="font-italic"></p>
<p>NS_From_Unique_Names.j</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/3/NameContactsByParts.js" target="_blank"> nameContactsByParts.js</a></p>
<p class="font-italic"></p>
<p>NameContactsByParts.js</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/nas2ans.mac" target="_blank"> nas2ans.mac</a></p>
<p class="font-italic">Diego Gorriz (Skycross Engineers)</p>
<p>Example of a macro to convert Nastran input to ANSYS input. Works on shells only, so it should be used as an example.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/nastexp.mac" target="_blank"> nastexp.mac</a></p>
<p class="font-italic">Barry O&#39;Donnell (ODCS Ltd.)</p>
<p>&quot;The macro uses logic (primariliy extracted from a previously published macro) to identify the unique combinations of ETYPE, REAL and MAT for non-section based elements and ETYPE, SECTYPE and MAT for secrion based elements. It then gathers the relevant data into arrays (primarily vector based arrays), and outputs the following NASTRAN cards:</p>
<p>CONM2 (mass21 element)<br>
PSHELL (based on real data only, i.e. shell63)<br>
CTRIA3 (shell63 degenerate elements recognised)<br>
CQUAD4 (shell63 elements)<br>
PBAR (beam4 element or beam188 element, A/Iyy/Izz supported)<br>
CBAR (beam4 element or beam188 element, orientation node exported if it exists and default vector of &lt;0 1 0&gt; exported otherwise)<br>
CELAS2 (combin14, spring option, linear 2 node version only)<br>
PROD (link180 element, A supported)<br>
CROD (link180 element)<br>
PSOLID (solid element property definition card, fully supported)<br>
CHEXA (solid 185 and solid 45 fully supported, solid 186 &amp; solid 95 not working correctly)<br>
CPENTA (solid 185/45/186/95 fully supported, degenerate elements recognised)<br>
CTETRA (solid 185/45/186/95 &amp; solid 186 &amp; 95 fully supported)<br>
GRID (nodal coordinates, note: nodal csys = 0) MAT1 (E, nu, dens supported - non temp dependent, initial value supported only)&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/7/ndgroup.mac" target="_blank"> ndgroup.mac</a></p>
<p class="font-italic"></p>
<p>ndgroup.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/ndgroup2.mac" target="_blank"> ndgroup2.mac</a></p>
<p class="font-italic">Joe Woodward (PADT)</p>
<p>&quot;A macro which creates a macro of nsel commands for the currently selected nodes. this group of nodes can be recovered by running the macro that this macro creates. The macro will prompt the user for the name of the file which will be created. The default name is 'ndgroup.mac'.&quot;<br>
Original macro by John Crawford, vectorized by Joe Woodward.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/nfixdel.mac" target="_blank"> nfixdel.mac</a></p>
<p class="font-italic"></p>
<p>nfixdel.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/nod2kp.mac" target="_blank"> nod2kp.mac</a></p>
<p class="font-italic"></p>
<p>nod2kp.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/numtog.mac" target="_blank"> numtog.mac</a></p>
<p class="font-italic"></p>
<p>numtog.mac</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/3/PLOT_MAT_AS_TEMP_EN.MAC" target="_blank"> pLOT_MAT_AS_TEMP_EN.MAC</a></p>
<p class="font-italic"></p>
<p>PLOT_MAT_AS_TEMP_EN.MAC</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/p_dirlbl.mac" target="_blank"> p_dirlbl.mac</a></p>
<p class="font-italic">Chris Kennedy (Think PEAK, Inc.)</p>
<p>From the author:<br>
You can use the attached macro. This is supplied without warranty, etc.<br>
It places the directory, date, time, hostname at the top of the graphics window.... There are additional args that can also extract and post the jobname. Read the macro (at least the top of it.)<br>
P_LOGO2 is a macro that places my company logo on the screen. You can remove that command.... unless you want it! :-)</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/p_nlist.mac" target="_blank"> p_nlist.mac</a></p>
<p class="font-italic"></p>
<p>p_nlist.mac</p>
</li></ul>
<nav class="my-3" aria-label="Page navigation">
  <div class="pagination pagination-sm justify-content-center">
  <div class="page-item">
    <a class="page-link" href="/macros/3/index.html"><i class="fas fa-arrow-left"></i></a>
  </div>
  <div class="page-item "><a class="page-link" href="/macros/0/index.html">1</a></div>
  <div class="page-item "><a class="page-link" href="/macros/1/index.html">2</a></div>
  <div class="page-item "><a class="page-link" href="/macros/2/index.html">3</a></div>
  <div class="page-item "><a class="page-link" href="/macros/3/index.html">4</a></div>
  <div class="page-item active"><a class="page-link" href="/macros/4/index.html">5</a></div>
  <div class="page-item "><a class="page-link" href="/macros/5/index.html">6</a></div>
  <div class="page-item "><a class="page-link" href="/macros/6/index.html">7</a></div>
  <div class="page-item "><a class="page-link" href="/macros/7/index.html">8</a></div>
  <div class="page-item">
    <a class="page-link" href="/macros/5/index.html"><i class="fas fa-arrow-right"></i></a>
  </div>
  </div>
</nav>


</main>

        </div>
      </div>
    </div>
    <nav class="nav-social navbar navbar-expand navbar-dark justify-content-center">
  <div class="navbar-nav"><a class="nav-item nav-link" target="_blank" href="https://github.com/affinitylinks/ansys.net">
      <i class="nav-social-icon fab fa-github mr-2"></i>
      <span class="align-text-bottom text-white d-none d-lg-inline">github</span>
    </a></div>
</nav>

  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>
