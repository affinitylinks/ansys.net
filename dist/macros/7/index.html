
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="LDFbsFtoiZlBNqruvC2wK8sObZtsKGqwvzvcPB0y1mE" />
    <meta name="yandex-verification" content="7c0f79b635678935" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJH9XZY2MY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJH9XZY2MY');
    </script>

    <title>sheldon&#39;s ansys.net-macro</title>
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>

    <!-- <script async src="https://cse.google.com/cse.js?cx=904d4317f81cbaf46"></script> -->

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="ansys.net">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="ansys.net">

    <title>sheldon&#39;s ansys.net</title>
  </head>
  <body class="bg-success">
    <nav class="site-nav family-sans navbar navbar-expand-md bg-success navbar-dark sticky-top py-0">
  <div class="container-fluid">

    <button type="button" class="navbar-toggler my-2 my-md-0"
      data-toggle="collapse" data-target="#myTogglerNav"
      aria-controls="myTogglerNav" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-brand text-uppercase">
      <a class="text-light" href="/">ANSYS</a>
    </div>

    <div class="collapse navbar-collapse text-center mt-0" id="myTogglerNav">
      <div class="navbar-nav ml-auto font-weight-regular text-uppercase">
        <a class="nav-item nav-link" href="/"><i class="fas fa-home"></i></a>

        <a class="nav-item nav-link" href="/macros/0/">macros</a><a class="nav-item nav-link" href="/examples/0/">examples</a><a class="nav-item nav-link" href="/resources/0/">resources</a><a class="nav-item nav-link" href="/miscellaneous/0/">misc</a><a class="nav-item nav-link" href="/html/0">HTML</a>
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item text-capitalize" href="/about">About</a>
            <div class="dropdown-divider"></div><a class="dropdown-item text-capitalize" target="_blank" href="https://github.com/affinitylinks/ansys.net">
                <i class="fab fa-github text-secondary mr-2"></i>github
              </a></div>
        </div>

      </div>
    </div>

  </div>
</nav>

    <div class="row">
      <div class="col">
        <div class="bg-light">
          <!-- <div class="container">
            <div class="gcse-search">...</div>
          </div> -->
          
<main class="container py-4">
  <h1 class="mb-3 text-center">Macros</h1>
<nav class="my-3" aria-label="Page navigation">
  <div class="pagination pagination-sm justify-content-center">
  <div class="page-item">
    <a class="page-link" href="/macros/6/index.html"><i class="fas fa-arrow-left"></i></a>
  </div>
  <div class="page-item "><a class="page-link" href="/macros/0/index.html">1</a></div>
  <div class="page-item "><a class="page-link" href="/macros/1/index.html">2</a></div>
  <div class="page-item "><a class="page-link" href="/macros/2/index.html">3</a></div>
  <div class="page-item "><a class="page-link" href="/macros/3/index.html">4</a></div>
  <div class="page-item "><a class="page-link" href="/macros/4/index.html">5</a></div>
  <div class="page-item "><a class="page-link" href="/macros/5/index.html">6</a></div>
  <div class="page-item "><a class="page-link" href="/macros/6/index.html">7</a></div>
  <div class="page-item active"><a class="page-link" href="/macros/7/index.html">8</a></div>
  <div class="page-item disabled">
    <a class="page-link" href="."><i class="fas fa-arrow-right"></i></a>
  </div>
  </div>
</nav>
<ul class="list-group"><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/vslm_bw.mac" target="_blank"> vslm_bw.mac</a></p>
<p class="font-italic">Bram Weisman (SBM-IMODCO)</p>
<p>Based on VLSM macro, created by John Crawford to select/reselect/unselect meshed volumes. Written to take advantage of vectors to execute faster.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/vthick.mac" target="_blank"> vthick.mac</a></p>
<p class="font-italic">Rick Fischer (Marconi Communications)</p>
<p>&quot;This macro sets variable shell thickness based on thicknesses at corners of a surface. Only problem is that the attributes are being applied as a real constant. But, rthick creates r cards, one for each element, with real numbers the same as the argument. This could overwrite the reals used for the attributes, depending on how the model is numbered.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/wfmin107.mac" target="_blank"> wfmin107.mac</a></p>
<p class="font-italic">Jan Christian Anker (Anker-Zemer)</p>
<p>Wavefront optimization. Original link can be found here on Anker-Zemer's website.</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/writearr.mac" target="_blank"> writearr.mac</a></p>
<p class="font-italic">Carl Olsard (noiseboard.com)</p>
<p>&quot;One command that is severely lacking from ANSYS is a simple way to export a matrix to a file, so that it can be imported into MATLAB. This script writearr.mac should be used with the companion MATLAB script readansysarray.m to export a matrix from ANSYS and import the array into MATLAB. At the moment the script is written to export 2D arrays of MxN (don't need to specify the dimensions). The output file contains the data i,j,data(i,j) where i and j are the array indices. The usage of the macro is:<br>
writearr,'array','filename','ext'&quot;</p>
<p>Here is the companion MATLAB script:<br>
READANSYSARRAY</p>
<p>&quot;This is the second part of the script, which uses the file exported by writearr.mac. This matlab script will import the file, and reshape the matrix into the correct format. The function is used as follows:</p>
<ol>
<li>load the file into MATLAB: load press.txt</li>
<li>convert the matrix into the correct format: press2=readansysarray(press);&quot;</li>
</ol>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/7/x_bcslope.mac" target="_blank"> x_bcslope.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro will apply slope BC value on the selected nodes according to the active coordinate value in sepcified DOF.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/x_cecyc.mac" target="_blank"> x_cecyc.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro will create CE for cyclic sysmtric sector, even if the mesh on the two sectors interfaces are dissimillar.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/0/x_demo_vread.mac" target="_blank"> x_demo_vread.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro will demonstrate how to read in a matrix ZREAD(ZNNODE,3) in one *VREAD command. The macro will get coordianates from the current model first, write them into the file x_demo_vread.tmp, and read the data from the file&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/x_esum.mac" target="_blank"> x_esum.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;Calculate and print the summary of (selected) elements area or volume, and centroid. The result will be saved in the parameter _ParName.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/2/x_nfor2f.mac" target="_blank"> x_nfor2f.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;I usually use the following macro to &quot;extract&quot; element force, add a negative sign, and transfer into nodal force. This can sometimes be used to get the cross-section force on the cutting face, and do a force-controlled (instead of displacement-controlled) sub-model.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/4/x_plldst.mac" target="_blank"> x_plldst.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro will get/plot (reponse vs load level) graph on the screen.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/5/x_shl2sld.mac" target="_blank"> x_shl2sld.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro will sweep the currently selected or assigned SHELL elements into SOLID elements.&quot;</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/6/x_th2st.mac" target="_blank"> x_th2st.mac</a></p>
<p class="font-italic">Shen-Yeh Chen (Honeywell)</p>
<p>&quot;This macro transfers the temperature distribution from a thermal analysis into structural temperature load. Only pre-selected nodes are dumped. The output file name is x_th2st.tld.&quot; (Note that there is a built-in ANSYS command called LDREAD command which does similar functionality)</p>
</li><li class="list-group-item">
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/8/yzcurv.mac" target="_blank"> yzcurv.mac</a></p>
<p class="font-italic">Bill Bulat (OMM)</p>
<p>&quot;Here's something I used recently (NOT FULLY TESTED!!). Edit as needed to obtain curvature in other global planes (I wrote this to obtain curvature in global yz plane - a symmetry plane in a half symmetry model I recently created). Also reports the average radius of curvature if you're inclined to ignore the speed control bumps. My intention was to make this applicable to arbitrarily large deformations.&quot;</p>
</li></ul>
<nav class="my-3" aria-label="Page navigation">
  <div class="pagination pagination-sm justify-content-center">
  <div class="page-item">
    <a class="page-link" href="/macros/6/index.html"><i class="fas fa-arrow-left"></i></a>
  </div>
  <div class="page-item "><a class="page-link" href="/macros/0/index.html">1</a></div>
  <div class="page-item "><a class="page-link" href="/macros/1/index.html">2</a></div>
  <div class="page-item "><a class="page-link" href="/macros/2/index.html">3</a></div>
  <div class="page-item "><a class="page-link" href="/macros/3/index.html">4</a></div>
  <div class="page-item "><a class="page-link" href="/macros/4/index.html">5</a></div>
  <div class="page-item "><a class="page-link" href="/macros/5/index.html">6</a></div>
  <div class="page-item "><a class="page-link" href="/macros/6/index.html">7</a></div>
  <div class="page-item active"><a class="page-link" href="/macros/7/index.html">8</a></div>
  <div class="page-item disabled">
    <a class="page-link" href="."><i class="fas fa-arrow-right"></i></a>
  </div>
  </div>
</nav>


</main>

        </div>
      </div>
    </div>
    <nav class="nav-social navbar navbar-expand navbar-dark justify-content-center">
  <div class="navbar-nav"><a class="nav-item nav-link" target="_blank" href="https://github.com/affinitylinks/ansys.net">
      <i class="nav-social-icon fab fa-github mr-2"></i>
      <span class="align-text-bottom text-white d-none d-lg-inline">github</span>
    </a></div>
</nav>

  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>
