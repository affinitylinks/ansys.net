
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="LDFbsFtoiZlBNqruvC2wK8sObZtsKGqwvzvcPB0y1mE" />
    <meta name="yandex-verification" content="7c0f79b635678935" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJH9XZY2MY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJH9XZY2MY');
    </script>

    <title>sheldon&#39;s ansys.net-Inquiry Functions</title>
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>

    <script async src="https://cse.google.com/cse.js?cx=904d4317f81cbaf46"></script>

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="ansys.net">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="ansys.net">

    <title>sheldon&#39;s ansys.net</title>
  </head>
  <body class="bg-success">
    <nav class="site-nav family-sans navbar navbar-expand-md bg-success navbar-dark sticky-top py-0">
  <div class="container-fluid">

    <button type="button" class="navbar-toggler my-2 my-md-0"
      data-toggle="collapse" data-target="#myTogglerNav"
      aria-controls="myTogglerNav" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-brand text-uppercase">
      <a class="text-light" href="/">ANSYS</a>
    </div>

    <div class="collapse navbar-collapse text-center mt-0" id="myTogglerNav">
      <div class="navbar-nav ml-auto font-weight-regular text-uppercase">
        <a class="nav-item nav-link" href="/"><i class="fas fa-home"></i></a>

        <a class="nav-item nav-link" href="/macros/0/">macros</a><a class="nav-item nav-link" href="/examples/0/">examples</a><a class="nav-item nav-link" href="/resources/0/">resources</a><a class="nav-item nav-link" href="/miscellaneous/0/">misc</a><a class="nav-item nav-link" href="/html/0">HTML</a>
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item text-capitalize" href="/about">About</a>
            <div class="dropdown-divider"></div><a class="dropdown-item text-capitalize" target="_blank" href="https://github.com/affinitylinks/ansys.net">
                <i class="fab fa-github text-secondary mr-2"></i>github
              </a></div>
        </div>

      </div>
    </div>

  </div>
</nav>

    <div class="row">
      <div class="col">
        <div class="bg-light">
          <div class="conatainer">
            <div class="gcse-search">...</div>
          </div>
          
<main class="container py-4">
  <h2 id="introduction-to-inquiry-functions" tabindex="-1">Introduction to Inquiry Functions <a class="direct-link" href="#introduction-to-inquiry-functions">#</a></h2>
<h3 id="john-crawford" tabindex="-1"><em>John Crawford</em> <a class="direct-link" href="#john-crawford">#</a></h3>
<p><a href="https://github.com/affinitylinks/ansys.net/blob/main/1/Inquiry_Matrix_Sheet_2005_10_11.pdf" target="_blank" rel="noopener noreferrer">Inquiry Function Matrix</a></p>
<pre class="language-md"><code class="language-md">Here is just about everything I know about inquiry functions. They are similar to \*GET functions in usage, and have two input arguments. Here's an example.<br><br>a=ndinqr(33,1)<br><br>In this case, "a" will be assigned a value of -1 if node 33 is unselected, 0 if it is undefined, and 1 if it is selected. This is an example of using an inquiry function to obtain information about a specific entity, in this case node 33.<br><br>An alternative use of an inquiry function is to find more generic data about a certain kind of entities. The following example illustrates this.<br><br>a=ndinqr(0,14)<br><br>This will assign to parameter "a" the highest node number defined in the model. Notice that the first argument is zero, and the second argument is 14.<br><br>Here are the inquiry functions I am aware of.<br><br>ndinqr(node,key) node number or zero, and key number<br>elmiqr(elem,key)<br>kpinqr(keypoint,key)<br>lsinqr(line,key)<br>arinqr(area,key)<br>vlinqr(volume,key)<br>rlinqr(real,key)<br>gapiqr(gap element,key)<br>masiqr(master DOF,key)<br>ceinqr(constraint equation,key)<br>cpinqr(coupled set,key)<br>csyiqr(coord system,key)<br>etyiqr(element type,key)<br>foriqr(nodal force,key)<br><br>All of these work pretty much the same, with the first argument used as either an entity ID number (for data about a specific node, element, etc.) or a zero if the information is about a class of element (number of selected nodes, etc.)<br><br>The key numbers are defined as follows.<br><br>key=1 return select status (for a specific entity)<br>key=12 return number of defined entities (KP's, nodes, etc.)<br>key=13 return number of selected entities<br>key=14 return the highest ID number in use<br><br>There a few other inquiry functions which have a slightly different format.<br><br>mpinqr(mat,prop,key) material property table number, property number, key additional key=3 for number of temps used in a specific property<br><br>dget(node,idof,kcmplx) node number, displacement pointer, complex key displacement pointers are...<br>1=ux, 2=uy, 3=uz, 4=rotx, 5=roty, 6=rotz, 7=ax, 8=ay 9=az, 10=vx, 11=vy, 12=vz, 19=pres, 20=temp, 21=volt, 22=mag, 23=enke, 24=ends, 25=emf, 26=curr<br>complex key=0 for real, 1 for imaginary<br><br>fget(node,idof,kcomplx) same definition as dget, but for forces this time.<br>Posted by John Crawford on 10.28.1997<br><br>Inquiry Functions for Sections<br>I have looked at the code and can confirm Tyllinen Juha's observation. It will work in 5.5, 5.6, and not likely to change.<br><br>"Quick testing seems to indicate that Section number would be available with sn = elmiqr(n,-4), where n is the element number. At least that is the way it worked in 5.5.1 with Beam188 and Beam189."<br><br>Other possibilites for element characteristics<br>-1, material number<br>-2, element type<br>-3, real constant number<br>-4, Element Section ID number<br>-5, coordinate system number<br>Posted by Grama Bhashyam on 10.29.1999<br><br>Useful Inquiry Functions<br><br>Nodes ndinqr(node,key)<br>node - node number, should be 0 for key = 12, 13, 14<br>key - information needed<br>= 1, return select status:<br>= 12, return number of defined nodes<br>= 13, return number of selected nodes<br>= 14, return highest node number defined<br>= -2, superelement flag<br>= -3, master degrees of freedom bit pattern<br>= -4, active degrees of freedom bit pattern<br>= -5, solid model attachment<br>= -6, pack nodal line parametric value<br>output arguments:<br>for key = 1<br>= 0, node is undefined.<br>= -1, node is unselected.<br>= 1, node is selected.<br><br>Element elmiqr(ielem,key)<br>ielem - element number, should be zero for key = 12, 13, or 14<br>key - information flag<br>= 1, return select status<br>= 12, return number of defined elements<br>= 13, return number of selected elements<br>= 14, return maximum element number used<br>= -1, material number<br>= -2, type.<br>= -3, real.<br>= -4, element section ID number<br>= -5, coordinate system number<br>= -7, solid model reference<br>output arguments:<br>for key = 1<br>= 0, element is undefined<br>= -1, element is unselected<br>= 1, element is selected<br><br>Keypoints kpinqr(kpid,key)<br>kpid - keypoint may be 0 for key = 12, 13, 14<br>key - information flag.<br>= 1, select<br>= 12, number of defined<br>= 13, number of selected<br>= 14, highest number defined<br>= -1, material number<br>= -2, type<br>= -3, real number<br>= -4, node number, if meshed<br>= -7, element number, if meshed<br>output arguments:<br>for key = 1<br>= -1, unselected<br>= 0, undefined<br>= 1, selected<br><br>Lines lsinqr(lsid,key)<br>lsid - line segment for inquire may be 0 for key = 12, 13, 14<br>key - item to be returned<br>= 1, select status<br>= 2, length (in model units)<br>= 12 number of defined<br>= 13, number of selected<br>= 14, highest number defined<br>= -1, material number<br>= -2, type<br>= -3, real number<br>= -4, number of nodes<br>= -5, esys number<br>= -6, number of elements<br>= -8, number of element divs in existing mesh<br>= -9, keypoint 1<br>= -10, keypoint 2<br>= -15, section id<br>= -16, number of element divs for next mesh<br>= -17, 0 = hard / 1 = soft NDIV<br>= -18, 0 = hard / 1 = soft SPACE<br><br>Area arinqr(areaid,key)<br>areaid - area for inquiry, may be 0 for key = 12, 13, 14<br>key - key to information needed about the areaid<br>= 1, return select status<br>= 12, return number of defined<br>= 13, return number of selected<br>= 14, return highest number defined<br>= -1, return material<br>= -2, return type<br>= -3, return real<br>= -4, return number of nodes<br>= -6, return number of elements<br>= -7, return pointer to area in foreign db<br>= -8, return element shape<br>= -9, return mid-node element key<br>= -10, return element coordinate system<br>= -11, return area constraint information<br>output arguments:<br>for key = 1<br>= 0, areaid is undefined<br>= -1, areaid is unselected<br>= 1, areaid is selected<br>for key = - 11<br>= 0, no constraint on this area<br>= 1, symmetry constraint<br>= 2, anti-symmetry<br>= 3, both symmetry and anti-symmetry<br><br>Volumes vlinqr(vnmi,key)<br>vnmi - volume for inquiry, may be 0 for key = 12, 13, 14<br>key - information flag<br>= 1, return select status<br>= 12, return number of defined<br>= 13, return number of selected<br>= 14, return highest number defined<br>= -1, material<br>= -2, type<br>= -3, real<br>= -4, number of nodes<br>= -6, number of elements<br>= -8, element shape<br>= -9, mid-node element key<br>= -10, element coordinate system<br>output arguments:<br>for key = 1<br>= 0, node is undefined<br>= -1, node is unselected<br>= 1, node is selected<br><br>= 0, real constant table is undefined.<br>= -1, real constant table is unselected.<br>= 1, real constant table is selected<br><br>Element Type etyiqr(itype,key)<br>itype - element type number, should be 0 for key = 12 and 14<br>key - item to be returned<br>= 1, return select status:<br>= 12, return number of defined element types<br>= 14, return highest element type number defined<br>output arguments:<br>for key = 1<br>= 0, element type is undefined<br>= -1, element type is unselected<br>= 1, element type is selected<br><br>Real Constants rlinqr(nreal,key)<br>nreal - real constant table number, should be 0 for key = 12, 13, 14<br>key - information flag<br>= 1, select status<br>= 12, number of defined real constant tables<br>= 13, number of selected real constant tables<br>= 14, highest real constant table defined<br>output arguments:<br>for key = 1<br>= 0, real constant table is undefined.<br>= -1, real constant table is unselected.<br>= 1, real constant table is selected<br><br>Section Table sectinqr(nsect,key)<br>nsect - section id table number, should be 0 for key = 12, 13, 14<br>key - information flag<br>= 1, select status<br>= 12, return number of defined section id tables<br>= 13, return number of selected section id tables<br>= 14, return highest section id table defined<br>output arguments:<br>for key = 1<br>= 0, section id table is undefined.<br>= -1, section id table is unselected.<br>= 1, section id table is selected<br><br>Materials mpinqr(mat,iprop,key)<br>mat - material number, should be 0 for key = 12 and 14<br>iprop - property reference number<br>iprop = 0, test for existence of any material property with this material number (with key = 1)<br>key - key as to the information needed about material property<br>= 1, return select status:<br>= 12, number of defined material properties<br>= 14, highest material property number defined<br>output arguments:<br>for key = 1, iprop = 0 (test for existence of any material property with this material number)<br>EX = 1, EY = 2, EZ = 3, NUXY = 4, NUYZ = 5, NUXZ = 6, GXY = 7, GYZ = 8, GXZ = 9, ALPX = 10, ALPY = 11, ALPZ = 12, DENS = 13, MU =14, DAMP = 15, KXX = 16, KYY = 17, KZZ = 18, RSVX = 19, RSVY = 20, RSVZ = 21, C = 22, HF =23, VISC = 24, EMIS = 25, ENTH = 26, LSST = 27, PRXY = 28, PRYZ = 29, PRXZ = 30, MURX = 31, MURY = 32, MURZ = 33, PERX = 34, PERY = 35, PERZ = 36, MGXX = 37, MGYY = 38, MGZZ = 39, EGXX = 40, EGYY = 41, EGZZ = 42, TGXX = 43, TGYY = 44, TGZZ = 45, SONC = 46, SLIM = 47, ELIM = 48, ORTH = 54, CABL = 55, RIGI = 56, HGLS = 57, BM = 58, QRAT = 59, REFT = 60, PLAS = 61, CREE = 62, FAIL = 63, BH = 64, PIEZ = 65, SWEL = 66, WATE = 67, CONC = 68, PFLO = 69, ANEL = 70, ACOU = 71, EVIS = 72, USER = 73, NL = 74, HYPE = 75, NNEW = 76, MOON = 77, OGDE = 78, SUTH = 79, WIND = 80<br>for key = 1 (otherwise)<br>= 0, material prop is undefined<br>= 1, material prop is selected<br><br>Constraint Equations ceinqr(ceid,key)<br>ceid - constraint equation number<br>key - inquiry key, should be zero for key = 12, 13, 14<br>= 1, return select status<br>= 1, equation is selected<br>= 0, equation is undefined<br>= -1, equation is unselected<br>= 12, return number of defined constraint equations<br>= 13, return number of selected constraint equations<br>= 14, return number of highest numbered constraint equation defined<br>= -1, return master degrees of freedom for this equation<br><br>Couples cpinqr(cpid,key)<br>cpid - coupled set number<br>key - inquiry key, should be zero for key = 12, 13, 14<br>= 1, return select status<br>= 12, return number of defined coupled sets<br>= 13, return number of selected coupled sets<br>= 14, return the number of the highest numbered coupled set<br>output arguments:<br>for key = 1<br>= 1, coupled set is selected<br>= 0, coupled set in undefined<br>= -1, coupled set in unseleted<br><br>Coordinate System csyiqr(csysid,key)<br>csysid - coordinate system reference number, should be zero for key = 12 or 14<br>key - information flag.<br>= 1, return status:<br>= 12, number of defined coordinate systems<br>= 14, maximum coordinate system reference number used.<br>output arguments:<br>for key = 1<br>= 0, coordinate system is not defined<br>= -1, coordinate system is not selected<br>= 1, coordinate system is selected<br><br>Warning and Error Messages erinqr(key)<br>key - item to be returned<br>= 3, total number of notes displayed<br>= 4, total number of warnings displayed<br>= 5, total number of errors displayed<br>= 6, total number of fatals displayed<br>Posted by John Crawford on 10.10.2000<br><br>Inquiry Function for Next Available Number<br>I've discovered that <span class="token bold"><span class="token punctuation">**</span><span class="token content">inqr(0,16) or \*</span><span class="token punctuation">**</span></span>iqr(0,16) returns the next available number. For example, if areas 1, 2, and 3 exist in the model, then arinqr(0,16) returns a value of 4. However, if only areas 2 and 3 exist in the model, then arinqr(0,16) returns a value of 1.<br>Posted by Jeff Strain on 11.23.2004<br><br>Scratch Memory Inquiry<br>meminqr(-3007) gets scratch memory in use (in bytes).<br>Posted by Sheldon Imaoka on 12.06.2004<br><br>Inquiry Function Matrix<br>See also handy, printable Inquiry Function Matrix<br>Posted by Sheldon Imaoka on 02.03.2005<br><br>Additional Line Inquiry Functions<br>Lines:<br><br>lsinqr(lsid,key)<br>lsid - line segment for inquire may be 0 for key = 12, 13, 14<br>key - item to be returned<br>= -13, orientation keypoint KPB<br>= -14, orientation keypoint KPE<br>Posted by Bram Weisman on 08.30.2008<br><br>Real constant inquiry function<br>RLINQR(NREAL,5) would return the REAL set width (number of fields).<br>Posted by Bram Weisman on 09.10.2008<br><br>Number of line loops in area<br>Area Line Loops<br>arliqr(areaid,loopid,key)<br>areaid - area for inquiry<br>loopid – loop number<br>key – 1 for number of loops when loopid is zero, or 2 for number of lines in loopid<br>e.g.: arliqr(53,0,1) = number of loops in area 53<br>arliqr(53,1,2) = number of lines in loop 1 of area 53<br>arliqr(53,2,2) = number of lines in loop 2 of area 53<br>arliqr(53,3,2) = number of lines in loop 3 of area 53</code></pre>

</main>

        </div>
      </div>
    </div>
    <nav class="nav-social navbar navbar-expand navbar-dark justify-content-center">
  <div class="navbar-nav"><a class="nav-item nav-link" target="_blank" href="https://github.com/affinitylinks/ansys.net">
      <i class="nav-social-icon fab fa-github mr-2"></i>
      <span class="align-text-bottom text-white d-none d-lg-inline">github</span>
    </a></div>
</nav>

  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>
