
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="google-site-verification" content="LDFbsFtoiZlBNqruvC2wK8sObZtsKGqwvzvcPB0y1mE" />
    <meta name="yandex-verification" content="7c0f79b635678935" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJH9XZY2MY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJH9XZY2MY');
    </script>

    <title>sheldon&#39;s ansys.net-Undocumented Features</title>
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>

    <!-- <script async src="https://cse.google.com/cse.js?cx=904d4317f81cbaf46"></script> -->

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="ansys.net">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="ansys.net">

    <title>sheldon&#39;s ansys.net</title>
  </head>
  <body class="bg-success">
    <nav class="site-nav family-sans navbar navbar-expand-md bg-success navbar-dark sticky-top py-0">
  <div class="container-fluid">

    <button type="button" class="navbar-toggler my-2 my-md-0"
      data-toggle="collapse" data-target="#myTogglerNav"
      aria-controls="myTogglerNav" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-brand text-uppercase">
      <a class="text-light" href="/">ANSYS</a>
    </div>

    <div class="collapse navbar-collapse text-center mt-0" id="myTogglerNav">
      <div class="navbar-nav ml-auto font-weight-regular text-uppercase">
        <a class="nav-item nav-link" href="/"><i class="fas fa-home"></i></a>

        <a class="nav-item nav-link" href="/macros/0/">macros</a><a class="nav-item nav-link" href="/examples/0/">examples</a><a class="nav-item nav-link" href="/resources/0/">resources</a><a class="nav-item nav-link" href="/miscellaneous/0/">misc</a><a class="nav-item nav-link" href="/html/0">HTML</a>
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item text-capitalize" href="/about">About</a>
            <div class="dropdown-divider"></div><a class="dropdown-item text-capitalize" target="_blank" href="https://github.com/affinitylinks/ansys.net">
                <i class="fab fa-github text-secondary mr-2"></i>github
              </a></div>
        </div>

      </div>
    </div>

  </div>
</nav>

    <div class="row">
      <div class="col">
        <div class="bg-light">
          <!-- <div class="container">
            <div class="gcse-search">...</div>
          </div> -->
          
<main class="container py-4">
  <h2 id="undocumented-features" tabindex="-1">Undocumented Features <a class="direct-link" href="#undocumented-features">#</a></h2>
<h3 id="(ansys.net)" tabindex="-1"><em>(<a href="http://ansys.net" target="_blank" rel="noopener noreferrer">ansys.net</a>)</em> <a class="direct-link" href="#(ansys.net)">#</a></h3>
<p>Undocumented commands &amp; features are not guaranteed or supported by ANSYS or the ASDs (they also do not have error reports associated with them), but they are sometimes quite useful. Please use at your own risk. Undocumented commands are collected from ASD websites, ANSYS, Inc., and XANSYS mailing List (esp. John Crawford and John Swanson's contributions), and the author's own findings.</p>
<p>Some of these commands are present in later versions of ANSYS (e.g., ANSYS 5.6, 5.7). Others are &quot;old&quot; legacy commands which became undocumented in subsequent versions of ANSYS. Additional reasons why commands are undocumented: (a) The feature is either untested or insufficiently tested due to time constraints, (b) The feature has been tested but did not pass sufficiently to warrant release, (c) KEYOPTs, program options, etc. that are requested by specific users but are not deemed useful to the general user community are sometimes included without general release, (d) Features that are &quot;unsupportable&quot; and minimally tested, (e) Options risky to the user (CNVR,,,,,,,-1 for example), (f) Partially completed items that are still &quot;buggy&quot; but of use in a limited sense for experimental Beta testing by select customers. [Taken from ANSYS, Inc.]</p>
<p>Notes are added to indicate revisions which were verified by the author or others, but this does not necessarily mean that the command is only applicable to a particular revision unless stated as such.</p>
<h2 id="apdl-commands" tabindex="-1">APDL Commands <a class="direct-link" href="#apdl-commands">#</a></h2>
<h3 id="_button" tabindex="-1">_BUTTON <a class="direct-link" href="#_button">#</a></h3>
<pre class="language-txt"><code class="language-txt">Hidden parameter _Button can be used to test whether the user chose OK or Cancel within a MULTIPRO box, but its usefulness probably does not extend to testing actions with other boxes. This is because there are cases where OK can return a 1, the same as cancel.<br><br>For example, suppose you want to prompt the end-user to pick some areas, so you write:<br>ASEL,R,P<br>*IF,_BUTTON,EQ,0,THEN<br>...<br>The problem with this technique is if the user is inclined to use the Apply button (or MMB), and then follow with OK to close the picking dialog, then _BUTTON will equal 1.<br><br>As a point of trivia, _BUTTON equals 2 after Apply is pressed, but this cannot be tested in an APDL macro, since the test will not be executed until the dialog is closed with OK, Cancel or Pick All. The Reset button does not appear to modify _BUTTON</code></pre>
<h3 id="*del" tabindex="-1">*DEL <a class="direct-link" href="#*del">#</a></h3>
<pre class="language-txt"><code class="language-txt">*del,array,,NOPR<br>Silently deletes an array using undocumented "NOPR" argument.</code></pre>
<h3 id="*dowhile" tabindex="-1">*DOWHILE <a class="direct-link" href="#*dowhile">#</a></h3>
<pre class="language-txt"><code class="language-txt">*DOWHILE,parm<br>*DOWHILE is similar to *DO and performs the commands bracketed by *ENDDO. *DOWHILE,Parm command loops repeatedly through the next *ENDDO command as long as Parm is true (greater than zero).<br>[STI: This is for 6.0]</code></pre>
<h3 id="*get%2C%2Ccommon" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,parm,COMMON,,d3com2,,int,31<br>Gets the status of /UIS,MSGPOP. When writing macros you sometimes don't want those pesky warning messages to pop up all the time, so you use /uis,msgpop,3 to suppress them and put them back on with /uis,msgpop,0. The problem is if your macro is called by a macro that changed the msgpop status, then you kind of mess stuff up. The answer is to get the msgpop status before you change it then set it back.<br><br>Example usage:<br>*get,_oldMPS,COMMON,,d3com2,,int,31<br>/uis,msgpop,3<br>! Do my stuff<br>! ...<br>! ...<br>! ...<br>! Done with the stuff I want to suppress messages on<br>/uis,msgpop,_oldMPS</code></pre>
<h3 id="*get%2C%2Cparm" tabindex="-1">*GET,,PARM <a class="direct-link" href="#*get%2C%2Cparm">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,PARM,ARnn,ARTYPE<br>At 5.6.1, this returns the type of the ARxx parameter, not the type of the variable which ARnn is pointing to.</code></pre>
<h3 id="*moper" tabindex="-1">*MOPER <a class="direct-link" href="#*moper">#</a></h3>
<pre class="language-txt"><code class="language-txt">*MOPER,ResVal(1,1),ResXYZ(1,1),MAP,InVal(1,1),InXYZ(1,1),kDim<br>kDim = 2, 2d (shell) 3, 3d (solid)<br>ANSYS 5.7 has a MAP option which will:<br>Given: A set of points InXYZ(nPt,3) and a value(s) InVal(nPt,nVal) at each point<br>A second Set of points ResXYZ(nOut,3), contained within the geometry of the first set of points.<br>Determine the value(s) ResVal(nOut,nVal) at each point in the second set.<br><br>*MOPER,ResVal(1,1),ResXYZ(1,1),MAP,InVal(1,1),InXYZ(1,1),kDim,Ratio,kOut<br>Ratio = MaxElSize/MaxGridDim of input data (auto default) (was 0.10 default)<br>kOut = 0, use closest point values 1, zero if ouside<br>"Here is the propose new description of the MAP option on *MOPER. The changes are:<br>Ratio will have an automatic default as recommended, based on the number of points. Field 8 is the Ration field (field 1 is the \*MOPER command).<br>kOut is a proposed new option. The kOut setting points outside the field to zero should allow you to use the absolute value of the results as a mask vector. (0.0 will be false, non-zero (absolute value) will be true."<br>"For those of you who are using this command, I have found that the default value of 0.10 in field 8 is much too high for large problems. I suggest you supply a value in this field. A good value is:<br>Value = 1.0 / (sqrt(nIn)), where nin is the number of nodes in the input (known) set. (for kDim = 2)<br>Value = 1.0 / (cuberoot(nin)), where nin is the number of nodes in the input set (for kDim = 3)</code></pre>
<h3 id="*moper-(2)" tabindex="-1">*MOPER (2) <a class="direct-link" href="#*moper-(2)">#</a></h3>
<pre class="language-txt"><code class="language-txt">*MOPER,Eloc(1,1),XYZ(1,1),INTP,Elem(1)<br>where:<br>*dim,XYZ,array,nPts,3<br>*dim,Elem,array,nPts<br>\*dim,Eloc,array,nPts,3<br><br>This command finds the element containing the XYZ point, rather than the element with the closest centroid. The Eloc array is the element coordinates of the point.<br>Compare this, for example, with the \*MOPER,,,ENEAR option.</code></pre>
<h3 id="*moper-(3)" tabindex="-1">*MOPER (3) <a class="direct-link" href="#*moper-(3)">#</a></h3>
<pre class="language-txt"><code class="language-txt">*MOPER,sval(n),eloc(n,3),SGET,elem(n),label,comp<br>Finds stresses at certain points. This requires use of the \*MOPER,,,INTP undocumented command prior to executing this command.<br>sval(n): output array containing stresses at the points of interest<br>eloc(n,3): input array containing relative locations inside the elements (output from INTP)<br>elem(n): input array containing element numbers related to the relative locations of "eloc" (output from INTP)<br>label,comp: stress component of interest (see PLNSOL,S for examples)</code></pre>
<h3 id="*return" tabindex="-1">*RETURN <a class="direct-link" href="#*return">#</a></h3>
<pre class="language-txt"><code class="language-txt">*RETURN,value<br>Break reading from an input file<br>Where value=0 returns to the top level, -n returns n levels, n returns to level n<br>Useful when breaking *DO loops or *IF conditional statements, for example.<br>[STI: Implemented at 5.7?]</code></pre>
<h3 id="*status" tabindex="-1">*STATUS <a class="direct-link" href="#*status">#</a></h3>
<pre class="language-txt"><code class="language-txt">*STATUS,_PRM<br>\*STATUS,PRM_<br>Shows parameters which begin or end with an underscore.<br>[STI: Documented at 5.6]</code></pre>
<h3 id="*vfun" tabindex="-1">*VFUN <a class="direct-link" href="#*vfun">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VFUN,array(1,1),DIRECT,array2(1,1)<br>Gets the direction cosines of a vector. For example:<br>*DIM,STRESS,array,nNodes,6<br>*vget sx,sy,sz, sxy,etc into STRESS(1,1), STRESS(1,2), etc<br>*DIM,DIR,array,nNodes,9<br>*VFUN,DIR(1,1),DIRECT,STRESS(1,1)<br>DIRECT will contain the 3 x 3 matrix of direction cosines<br>[STI: Works for 5.6.2]</code></pre>
<h3 id="*vfun-(2)" tabindex="-1">*VFUN (2) <a class="direct-link" href="#*vfun-(2)">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VFUN,uv(1,1),ACORD,xyz(1,1),areanum<br>Gets (u,v) 'natural' coordinates of a point lying on an area areanum when the global coordinates (x,y,z) are known.<br>uv is dimensioned (npoints,2)<br>xyz is dimensioned (npoints,3)<br>areanum is area number<br><br>\*VFUN,xyz(1,1),GCORD,uv(1,1),areanum<br>The GCORD option is the inverse of the ACORD option.</code></pre>
<h3 id="*voper" tabindex="-1">*VOPER <a class="direct-link" href="#*voper">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VOPER, ParR, Par1, Oper, Par2, CON1, CON2<br>For \*VOPER, the Oper argument can take the form of and, or, or xor. This is for binary comparison of arrays. Hence, the values in the arrays Par1 and Par2 are taken such that negative numbers or zero is "0" and positive numbers are "1" for comparison.<br>For example, when Oper = and, both values in Par1(i) and Par2(i) need to match to return ParR(i)=1.<br>When Oper = or, if either value in Par1(i) and Par2(i) is "1", then ParR(i)=1.<br>When Oper = xor, both values in Par1(i) and Par2(i) need to be different to return ParR(i)=1.<br>Recall from above that when the comparisons are made, positive numbers are assumed to be "1" and negative (and zero) numbers are assumed to be "0". Hence, for XOR case, "3" and "4" will return "0" since "3->1" and "4->1", they are the same, so XOR returns "0" (false).</code></pre>
<h3 id="*vput" tabindex="-1">*VPUT <a class="direct-link" href="#*vput">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VPUT, ParR, Entity, ENTNUM, Item1, IT1NUM, Item2, IT2NUM, KLOOP<br>To change selection status of entities, use a format similar to *VGET.<br>Use for Entity = node, elem, kp, line, area, or volu, ENTNUM = 1, and Item1 = nsel, esel, ksel, lsel, asel, or vsel. The array ParR would be similar to the *VGET array, where<br>-1 = unselected<br>0 = undefined<br>1 = selected<br>It is recommended to select all entities with nsel,all (or related command) prior to using \*VPUT.</code></pre>
<h3 id="*vread" tabindex="-1">*VREAD <a class="direct-link" href="#*vread">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VREAD,array(1,1),filename,ext,dir,ncol,row,column,plane,start_line<br>Undocumented fields are: row, column, plane to allow reading in matrix by row, column, or plane. start_line is the line of the file to start reading from. [STI: documented from 5.7 onwards.]</code></pre>
<h3 id="*vscfun" tabindex="-1">*VSCFUN <a class="direct-link" href="#*vscfun">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VSCFUN,LocPar,POS,myarray(1),compare,myvalue,tolerance<br>Determines position in array of value "myvalue" in array "myarray" and returns in LocPar. "compare" can be any comparison operator, such as GE, GT, LE, and LT. The first occurrence will be returned. "1" will be returned for no match. "tolerance" (default 1e-6) sets the tolerance for a match. [Note that EQ comparison is valid for 5.7 and 6.0 but was removed in 6.1 because it returns only first match.]<br><br>Example:<br>*dim,a,,5<br>a(1)=1,2,3,4,5<br>*vscfun,b,POS,a(1),ge,3<br>Returns "3" for third index/position.</code></pre>
<h3 id="%2Fconfig" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,RESUPRES,0<br>or<br>RESUPREC=0 in config145.ans<br><br>In ANSYS 14.5, stresses, strains, and other element quantities are written in the result file (.rst) as single precision to save space (DOF solution and reaction forces are still written as double-precision). This command, when invoked before solving, will store all results in double-precision.</code></pre>
<h3 id="%2Fdirget" tabindex="-1">/DIRGET <a class="direct-link" href="#%2Fdirget">#</a></h3>
<pre class="language-txt"><code class="language-txt">/dirget,parm,filename,fileext<br>Gets the list of files with the file extension "filename" or "fileext"<br>For example:<br>/dirget,\_str,all,tif<br>Gets all filenames with extension "TIF"<br>[STI: Note: This may only work on UNIX at 5.6.1, not on NT. I keep getting bombed out of ANSYS using this command on NT. Also, for 5.7 and above, look at the /INQUIRE command and strings for same functionality.]</code></pre>
<h3 id="%2Fencrypt" tabindex="-1">/ENCRYPT <a class="direct-link" href="#%2Fencrypt">#</a></h3>
<pre class="language-txt"><code class="language-txt">/ENCRYPT,Encryption_key,File_name,File_ext,Directory_Path/<br>The commands /ENCRYPT and /DECRYPT allow one to encrypt macros. See APDL Programmer's Guide for more details.</code></pre>
<h3 id="%2Fhold" tabindex="-1">/HOLD <a class="direct-link" href="#%2Fhold">#</a></h3>
<pre class="language-txt"><code class="language-txt">/HOLD,filename,timeint,timeout<br>Read a command from file "filename" if it exists. If it doesn't exist, wait "timeint" seconds, then keep trying again until "timeout" seconds.</code></pre>
<h3 id="%2Finquire" tabindex="-1">/INQUIRE <a class="direct-link" href="#%2Finquire">#</a></h3>
<pre class="language-txt"><code class="language-txt">/INQUIRE,strarray,DIRECTORY<br>This gets the working directory ANSYS was launched from.</code></pre>
<pre class="language-txt"><code class="language-txt">/INQUIRE,strarray,JOBNAME<br>This gets the ANSYS jobname and puts it into a string array called "strarray".<br><br>/INQUIRE<br>/INQUIRE,strarray,TITLE,n<br>This gets the ANSYS title starting from character "n".</code></pre>
<h3 id="%2Frmtmp" tabindex="-1">/RMTMP <a class="direct-link" href="#%2Frmtmp">#</a></h3>
<pre class="language-txt"><code class="language-txt">Removes/closes the file specified in /INPUT after it is read. /RMTMP should be the last command in the input file.<br></code></pre>
<h3 id="arrays" tabindex="-1">Arrays <a class="direct-link" href="#arrays">#</a></h3>
<pre class="language-txt"><code class="language-txt">Passing arrays as arguments to macros<br>Example from John Swanson:<br>/batch,list<br>*create,macro,mac<br>a = arg1(1)<br>b = arg1(2)<br>c = arg1(3)<br>*stat<br>\*end<br><br>\*dim,xx1,,3<br>xx1(1) = 10<br>xx1(2) = 20<br>xx1(3) = 30<br>macro,'xx1'<br>/exit,nosave<br></code></pre>
<h3 id="cmwrite" tabindex="-1">CMWRITE <a class="direct-link" href="#cmwrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">CMWRITE,Fname,Fext,Fdir,ipos,[_ | BLOCK | UNBLOCK]<br>Write component information to file, where ipos = 0,write at beginning of file, 1, write at end of file<br>For 7.0 and later.<br></code></pre>
<h3 id="dynprompt57.ans" tabindex="-1">dynprompt57.ans <a class="direct-link" href="#dynprompt57.ans">#</a></h3>
<pre class="language-txt"><code class="language-txt">At 5.7, the dynamic input file prompting was introduced, where the command format was displayed as you typed a command.<br><br>Modify "dynprompt57.ans" to add your own macro argument format, so when you type your own macros, the proper arguments are also displayed.<br>[STI: at 6.0, this file is called "dynprompt60.ans", where the last two numbers indicate the version number.]<br></code></pre>
<h3 id="keyw" tabindex="-1">KEYW <a class="direct-link" href="#keyw">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,PR_SGVOF,1<br>When redefining arrays in an interactive session, the user is prompted if they really want to redefine an existing array. The above command disables this prompt in ANSYS 15.0 and above, so if an existing array is redefined with the \*DIM command, it will do so silently.<br><br>See also \*DEL,,NOPR.<br></code></pre>
<h3 id="rpnnn" tabindex="-1">RPnnn <a class="direct-link" href="#rpnnn">#</a></h3>
<pre class="language-txt"><code class="language-txt">RPnnn, vinc1, vinc2, ...<br>The RPnnn command works similar to *REPEAT,nnn. For example, instead of using *REPEAT,3 to repeat the previous commands a total of 3 times, one can use RP3 instead. The second argument (value increment) of RPnnn is the same as the third argument of \*REPEAT.<br></code></pre>
<h3 id="strings" tabindex="-1">Strings <a class="direct-link" href="#strings">#</a></h3>
<pre class="language-txt"><code class="language-txt">*DIM,StrPar,STRING,nChar,[nString,{nPages]]<br>Defines strings (5.6)<br>strcat(Param1(1,1),Param2(1,1))<br>Concatenation of strings<br>Example:<br>*DIM,Param1,STRING,128<br>*DIM,Param2,STRING,128<br>*DIM,Param3,STRING,128<br>Param1(1,1) = 'THIS IS STRING 1'<br>Param2(1,1)=' THIS IS STRING 2'<br>Param3(1,1) = strcat(Param1(1,1),Param2(1,1))<br>This gives:<br>THIS IS STRING 1THIS IS STRING 2<br><br>strsub(Param1(1,1),location,numchr)<br>Gets substring of numchr long starting from location<br><br>strfill(Param1(1,1),Param2(1,1),location)<br>Fills in Param2 to Param1 starting from location<br><br>strleng(Param1(1,1))<br>Returns length of Param1 as a scalar number<br><br>strpos(Param1(1,1),Param2(1,1))<br>Returns location of Param2 substring in Param1 string as a scalar number<br><br>An example macro can be downloaded which illustrates some of the above points through examples.<br>[STI: Strings will be documented at 5.7]<br></code></pre>
<h3 id="_return" tabindex="-1">_RETURN <a class="direct-link" href="#_return">#</a></h3>
<pre class="language-txt"><code class="language-txt">Parameter returns number of geometry entity just created (5.3 does not support _return for the L command)<br>[STI: Please see Ch. 4.7 "Using the _STATUS and _RETURN Parameters in Macros" in the ANSYS APDL Guide for more information]</code></pre>
<h3 id="*status-1" tabindex="-1">*STATUS <a class="direct-link" href="#*status-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*STATUS,_PRM<br>\*STATUS,PRM_<br>Shows parameters which begin or end with an underscore.<br>[STI: Documented at 5.6]</code></pre>
<h3 id="arvl" tabindex="-1">ARVL <a class="direct-link" href="#arvl">#</a></h3>
<pre class="language-txt"><code class="language-txt">Selects all areas associated with currently active volumes.</code></pre>
<h3 id="asle" tabindex="-1">ASLE <a class="direct-link" href="#asle">#</a></h3>
<pre class="language-txt"><code class="language-txt">ASLE,s,1<br>Selects areas based on elements. Second argument is selection method (s, r, u). Third argument is to select areas if any of its elements are selected (0) or only if all of its areas are selected (1). This command behaves similar to other "select based on" commands like NSLL.<br>[STI: Works with 5.7 and above]</code></pre>
<h3 id="asln" tabindex="-1">ASLN <a class="direct-link" href="#asln">#</a></h3>
<pre class="language-txt"><code class="language-txt">ASLN,s,1<br>Selects areas based on nodes. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="cewrite" tabindex="-1">CEWRITE <a class="direct-link" href="#cewrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">write out constraint equations (jobname.ce)</code></pre>
<h3 id="clist" tabindex="-1">CLIST <a class="direct-link" href="#clist">#</a></h3>
<pre class="language-txt"><code class="language-txt">CLIST,csys,Nstart,Nend,Ninc<br>Displays coordinates for nodes in given "csys" coordinate system without using DSYS. Use of DSYS is cumbersome since it affects displays as well as listings, so this is a better alternative.</code></pre>
<h3 id="cmwrite-1" tabindex="-1">CMWRITE <a class="direct-link" href="#cmwrite-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">CMWRITE,Fname,Fext,Fdir,ipos,[_ | BLOCK | UNBLOCK]<br>Write component information to file, where ipos = 0,write at beginning of file, 1, write at end of file<br>For 7.0 and later.</code></pre>
<h3 id="cpwrite" tabindex="-1">CPWRITE <a class="direct-link" href="#cpwrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">write out coupled sets (jobname.cp)</code></pre>
<h3 id="enode" tabindex="-1">ENODE <a class="direct-link" href="#enode">#</a></h3>
<pre class="language-txt"><code class="language-txt">ENODE,var<br>Selects all elements attached to (var=0) any currently active nodes or (var=1) all currently active nodes.</code></pre>
<h3 id="esel" tabindex="-1">ESEL <a class="direct-link" href="#esel">#</a></h3>
<pre class="language-txt"><code class="language-txt">ESEL,,LAYER,MAT,matno<br>Selection by presence of non-zero thickness layer with material m. Use "ESEL,,LAYER,,layerno" to select elements with non-zero thickness of layer "layerno".</code></pre>
<h3 id="etwrite" tabindex="-1">ETWRITE <a class="direct-link" href="#etwrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">Write out element types (jobname.etyp)</code></pre>
<h3 id="klist" tabindex="-1">KLIST <a class="direct-link" href="#klist">#</a></h3>
<pre class="language-txt"><code class="language-txt">KLIST,all,,,xyz<br>Shows more significant digits for keypoint listings.</code></pre>
<h3 id="ksle" tabindex="-1">KSLE <a class="direct-link" href="#ksle">#</a></h3>
<pre class="language-txt"><code class="language-txt">KSLE,s,1<br>Selects keypoints based on selected elements. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="lsar" tabindex="-1">LSAR <a class="direct-link" href="#lsar">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSAR<br>Selects all lines associated with currently active areas.</code></pre>
<h3 id="lsle" tabindex="-1">LSLE <a class="direct-link" href="#lsle">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSLE,s,1<br>Selects lines based on selected elements. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="lsln" tabindex="-1">LSLN <a class="direct-link" href="#lsln">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSLN,s,1<br>Selects lines based on nodes. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="nelem" tabindex="-1">NELEM <a class="direct-link" href="#nelem">#</a></h3>
<pre class="language-txt"><code class="language-txt">NELEM<br>Selects the nodes attached to the currently active elements.</code></pre>
<h3 id="nlist" tabindex="-1">NLIST <a class="direct-link" href="#nlist">#</a></h3>
<pre class="language-txt"><code class="language-txt">NLIST,all,,,xyz<br>Shows more significant digits for node listings.</code></pre>
<h3 id="rwrite" tabindex="-1">RWRITE <a class="direct-link" href="#rwrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">Write out real constant tables (jobname.real)</code></pre>
<h3 id="seltol" tabindex="-1">SELTOL <a class="direct-link" href="#seltol">#</a></h3>
<pre class="language-txt"><code class="language-txt">SELTOL,value<br>Sets selection tolerance to value prior to xSEL commands.<br>SELTOL,1e-2<br>NSEL,S,LOC,X,1000<br>SELTOL<br>Above example selects nodes at x=1000+/-1e-2, then resets selection tolerance to 0.005xVMIN</code></pre>
<h3 id="vsle" tabindex="-1">VSLE <a class="direct-link" href="#vsle">#</a></h3>
<pre class="language-txt"><code class="language-txt">VSLE,s,1<br>Selects volumes based on selected elements. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="vsln" tabindex="-1">VSLN <a class="direct-link" href="#vsln">#</a></h3>
<pre class="language-txt"><code class="language-txt">VSLN,s,1<br>Selects volumes based on nodes. See ASLE undocumented command (or NSLL documented command) for usage.</code></pre>
<h3 id="_return-1" tabindex="-1">_RETURN <a class="direct-link" href="#_return-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">Parameter returns number of geometry entity just created (5.3 does not support _return for the L command)<br>[STI: Please see Ch. 4.7 "Using the _STATUS and _RETURN Parameters in Macros" in the ANSYS APDL Guide for more information]</code></pre>
<h3 id="*get%2C%2Ccdsy" tabindex="-1">*GET,,CDSY <a class="direct-link" href="#*get%2C%2Ccdsy">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CDSY, ,NUM,MAX<br>Gets the max local coord. system number<br>You can also use the inquiry function MAXCSYS = csyiqr(0,14)</code></pre>
<h3 id="*get%2C%2Cce" tabindex="-1">*GET,,CE <a class="direct-link" href="#*get%2C%2Cce">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CE,CeNum, TERM, num, [COEF | NODE | DOF]<br>Gets the node number, DOF, or coefficient in CE #CeNum, #num term.<br>The DOF key is as follows: 1=ux, 2=uy, 3=uz, 4=rotx, 5=roty, 6=rotz, 7=ax, 8=ay 9=az, 10=vx, 11=vy, 12=vz, 19=pres, 20=temp, 21=volt, 22=mag, 23=enke, 24=ends, 25=emf, 26=curr</code></pre>
<h3 id="*get%2C%2Cce-1" tabindex="-1">*GET,,CE <a class="direct-link" href="#*get%2C%2Cce-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CE,CeNum, [NTERM | CONST]<br>Gets the total number of terms or the constant for CE</code></pre>
<h3 id="*get%2C%2Cce-2" tabindex="-1">*GET,,CE <a class="direct-link" href="#*get%2C%2Cce-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CE,0,[MAX | NUM]<br>Gets the total #num number of CEs defined or the #max number of CEs.</code></pre>
<h3 id="*get%2C%2Ccommon-1" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,COMMON,,BOLCMD,,REAL,16<br>Gets the current boolean tolerance value (value assigned to the BTOL command).</code></pre>
<h3 id="*get%2C%2Ccp" tabindex="-1">*GET,,CP <a class="direct-link" href="#*get%2C%2Ccp">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CP,CpNum,TERM,num,NODE<br>Gets the node number in CP #CpNum, #num term.</code></pre>
<h3 id="*get%2C%2Ccp-1" tabindex="-1">*GET,,CP <a class="direct-link" href="#*get%2C%2Ccp-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CP,CpNum,[DOF | NTERM]<br>Gets the DOF of the CP #CpNum or total number of terms. The DOF key is as follows: 1=ux, 2=uy, 3=uz, 4=rotx, 5=roty, 6=rotz, 7=ax, 8=ay 9=az, 10=vx, 11=vy, 12=vz, 19=pres, 20=temp, 21=volt, 22=mag, 23=enke, 24=ends, 25=emf, 26=curr</code></pre>
<h3 id="*get%2C-%2C-cp" tabindex="-1">*GET, , CP <a class="direct-link" href="#*get%2C-%2C-cp">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,CP,0,[MAX | NUM]<br>Gets the total #num number of CPs defined or the #max number of CPs.</code></pre>
<h3 id="*get%2C%2Cetyp" tabindex="-1">*GET,,ETYP <a class="direct-link" href="#*get%2C%2Cetyp">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,ETYP, ,NUM,MAX<br>Gets the max element type number You can also use the inquiry function MAXETYP = etyiqr(0,14)</code></pre>
<h3 id="*get%2C%2Cnode" tabindex="-1">*GET,,NODE <a class="direct-link" href="#*get%2C%2Cnode">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,par,NODE,n,NTEMP<br>Gets nodal structural temperatures applied on the model.</code></pre>
<h3 id="*vget%2Cparm(1)%2C125%2C1%2C12%2C1%2C%2C%2C2" tabindex="-1">*VGET,parm(1),125,1,12,1,,,2 <a class="direct-link" href="#*vget%2Cparm(1)%2C125%2C1%2C12%2C1%2C%2C%2C2">#</a></h3>
<pre class="language-txt"><code class="language-txt">*VGETs nodal structural temperatures into an array.</code></pre>
<h3 id="*get%2C%2Cplab" tabindex="-1">*GET,,PLAB <a class="direct-link" href="#*get%2C%2Cplab">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,PLAB,mat,TEMP,Tvalue<br>Gets material value at given temperature.<br>For example:<br>\*GET,EX1,EX,1,TEMP,70.0<br>Gets EX for material #1 at TEMP=70 and puts into parameter EX1.</code></pre>
<h3 id="*get%2C%2Crcon" tabindex="-1">*GET,,RCON <a class="direct-link" href="#*get%2C%2Crcon">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,RCON, ,NUM,MAX<br>Gets the max REAL set number<br>You can also use the inquiry function MAXREAL = rlinqr(0,14)</code></pre>
<h3 id="*ogden" tabindex="-1">*OGDEN <a class="direct-link" href="#*ogden">#</a></h3>
<pre class="language-txt"><code class="language-txt">*OGDEN,strain,stress,ltype,const,calc,sortsn,sortss,fname,ext<br>Ogden Hyperelastic Material<br>similar to *MOONEY for Ogden constitutive law for HYPER56, 58, &amp; 74.<br>strain = name of array parameter vector containing experimental engineering strain values<br>stress = name of array parameter vector containing experimental engineering stress values<br>ltype = 1 simple tension, 2 equibiaxial tension or compression, 3 shear (using simple tension equations), 4 shear (using equibiaxial tension equations)<br>const = name of array containing ogden constants<br>calc = name of array containing calculated stress values<br>sortsn = sorted strain data to be used for *vplot command<br>sortss = sorted stress data to be used for \*vplot command<br>fname = tb output filename (8 characters maximum).<br>ext = tb output file extension (8 characters maximum).<br>[STI: Ogden material is available for 18x family of elements at 5.7, so it is strongly recommended to use those elements instead.]</code></pre>
<h3 id="%2Fdflab" tabindex="-1">/DFLAB <a class="direct-link" href="#%2Fdflab">#</a></h3>
<pre class="language-txt"><code class="language-txt">/DFLAB,dofnum,dlabel,flabel<br>Changes DOF #dofnum to "dlabel" (D) and Force to "flabel" (F). DOF numbers range from 1-32. For example, DOF number 1 is UX, 2 is UY, etc.<br>This should be the first command issued upon entering ANSYS.<br>/DFLAB,19,PRESSURE changes PRES label (#19) to PRESSURE</code></pre>
<h3 id="abtoans" tabindex="-1">ABTOANS <a class="direct-link" href="#abtoans">#</a></h3>
<pre class="language-txt"><code class="language-txt">From 8.0 onwards, an undocumented macro ABTOANS allows user to convert an ABAQUS input file to ANSYS.</code></pre>
<h3 id="allp" tabindex="-1">ALLP <a class="direct-link" href="#allp">#</a></h3>
<pre class="language-txt"><code class="language-txt">ALLP,num_loop<br>Creates areas with holes in them. It supports up to 4 internal loops and one external loop. Listing of lines can be random within each loop, but each loop must be grouped together. "allp,3,1,3,4,7,11,14,6,8,9" where 3=number of total loops (one external, two internal, and the other numbers are line numbers in random order. This means that loop one would be lines 1,3,4, loop two would be 4,7,11, and loop 3 would be 14,16,8,9.</code></pre>
<h3 id="amer" tabindex="-1">AMER <a class="direct-link" href="#amer">#</a></h3>
<pre class="language-txt"><code class="language-txt">AMER,area1,area2,etc.<br>"Glues" areas together. Same command as AGLUE. See AGLUE for details on the usage of this command.</code></pre>
<h3 id="asbl" tabindex="-1">ASBL <a class="direct-link" href="#asbl">#</a></h3>
<pre class="language-txt"><code class="language-txt">ASBL,NA,NL,SEPO,KEEPA,KEEPL<br>The SEPO undocumented argument is similar to ASBA command. For ASBL, the divided areas will share lines by default but will have separate lines if SEPO is the value in the 3rd field.<br>The reason why this argument is undocumented is that, in some cases, separate, coincident keypoints may not be generated.</code></pre>
<h3 id="asbw" tabindex="-1">ASBW <a class="direct-link" href="#asbw">#</a></h3>
<pre class="language-txt"><code class="language-txt">ASBW,area,,,,,,,MESH<br>This divides a meshed area. (Warning - this may cause a corrupt database - use at your own risk! - STI)</code></pre>
<h3 id="bspline" tabindex="-1">BSPLINE <a class="direct-link" href="#bspline">#</a></h3>
<pre class="language-txt"><code class="language-txt">BSPLINE,ALL,First,[Next],[OPEN | CLOSED],,sx1,sy1,sz1,sx2,sy2,sz2<br>Use more keypoints for BSPLINE to have an open or closed loop.<br>[STI: At 5.6.2, CLOSED option didn't seem to work for arbitrary sets of keypoints...]</code></pre>
<h3 id="cbdof%2C-bfint" tabindex="-1">CBDOF, BFINT <a class="direct-link" href="#cbdof%2C-bfint">#</a></h3>
<pre class="language-txt"><code class="language-txt">CBDOF/BFINT,,,,,,,,,,TOLOUT,MOVETOL<br>Vary distance for projecting results.<br>The TOLOUT parameter is the fraction of the size of the nearest element by which a point can be outside the element. (Default is 0.5)<br>The MOVETOL parameter is the max motion of a node outside the body to reach the surface of the body (value > 1). This allows nodes to be moved to the surface by a specified amount prior to interpolation/extrapolation.</code></pre>
<h3 id="cecheck" tabindex="-1">CECHECK <a class="direct-link" href="#cecheck">#</a></h3>
<pre class="language-txt"><code class="language-txt">CECHECK,Item,Tolerance,Flag<br>Checks constriant equations for non-zero rigid reactions.<br>Item is "All (default), CE, or CP"<br>Flag is "RIGID (default) | ALL | Dof" where DOF can be individual UX, UY, TEMP (THERM?), etc.</code></pre>
<h3 id="cesgen" tabindex="-1">CESGEN <a class="direct-link" href="#cesgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">CESGEN,2,\_ntot,all<br>Generates/copies constraint equations (CEs).</code></pre>
<h3 id="clist-1" tabindex="-1">CLIST <a class="direct-link" href="#clist-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">CLIST,csys,Nstart,Nend,Ninc<br>Displays coordinates for nodes in given "csys" coordinate system without using DSYS. Use of DSYS is cumbersome since it affects displays as well as listings, so this is a better alternative.</code></pre>
<h3 id="coplot" tabindex="-1">COPLOT <a class="direct-link" href="#coplot">#</a></h3>
<pre class="language-txt"><code class="language-txt">COPLOT,secnum<br>Plots a beam cross section secnum as MESH200 elements on the screen. Useful to see graphically where the 'section nodes' are if you run this in a blank database.<br>Sample input below:<br><br>finish<br>/clear<br><br>/prep7<br>sect,1,beam,I<br>secd,1,1.5,1,0.1,0.1,0.1<br><br>/pnum,node,1<br>/efacet,2<br>coplot,1<br><br>See CUPLOT for related command</code></pre>
<h3 id="cpmerge" tabindex="-1">CPMERGE <a class="direct-link" href="#cpmerge">#</a></h3>
<pre class="language-txt"><code class="language-txt">CPMERGE,lab<br>Merges different couple sets with duplicate degrees of freedom into one couple set.<br>"Lab" can be any valid DOF label (e.g., 'UX')<br>Similar to NUMMRG,CP</code></pre>
<h3 id="cpsgen" tabindex="-1">CPSGEN <a class="direct-link" href="#cpsgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">CPSGEN,2,\_ntot,all<br>Generates/copies coupled sets (CPs).</code></pre>
<h3 id="cuplot" tabindex="-1">CUPLOT <a class="direct-link" href="#cuplot">#</a></h3>
<pre class="language-txt"><code class="language-txt">CUPLOT,filename<br>Plots a user-defined beam cross section stored in filename as MESH200 elements on the screen. Useful to see graphically where the 'section nodes' are if you run this in a blank database.<br><br>See COPLOT for related command</code></pre>
<h3 id="cwzdele" tabindex="-1">CWZDELE <a class="direct-link" href="#cwzdele">#</a></h3>
<pre class="language-txt"><code class="language-txt">CWZDELE,real_no,type_flag<br>Deletes a 17x contact pair, based on the real constant real_no. If type_flag is set to "1", this command not only deletes the contact elements, but it removes the real constant and element types associated with that contact pair.<br><br>For example, CWZDELE,3,1 deletes the 17x contact elements associated with real constant 3 (EDELE) and removes the real constant and element types (RDELE, ETDELE).</code></pre>
<h3 id="dgen" tabindex="-1">DGEN <a class="direct-link" href="#dgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">DGEN, 2,\_ntot,1,\_ntot<br>Generates/copies DOF constraints.</code></pre>
<h3 id="elsize" tabindex="-1">ELSIZE <a class="direct-link" href="#elsize">#</a></h3>
<pre class="language-txt"><code class="language-txt">ELSIZE, Size, Ndiv, Kshape, Kstr<br>Provides same functionality of two 'newer' commands: ESIZE, Size, Ndiv and ESHAPE, Kshape, Kstr</code></pre>
<h3 id="emid" tabindex="-1">EMID <a class="direct-link" href="#emid">#</a></h3>
<pre class="language-txt"><code class="language-txt">EMID,STRAIGHTEN<br>Straightens elements with midside nodes to force midnode to lie exactly in-between corner nodes.</code></pre>
<h3 id="eorient" tabindex="-1">EORIENT <a class="direct-link" href="#eorient">#</a></h3>
<pre class="language-txt"><code class="language-txt">EROIENT to reorient SOLID46 is documented at 5.6 but is undocumented at 5.5.<br>[STI: I haven't had much success with it at 5.5, though.]</code></pre>
<h3 id="epgen" tabindex="-1">EPGEN <a class="direct-link" href="#epgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">EPGEN ,inum,numincr,estart,eend,eincr,face<br>Generates/copies pressures.<br>inum is number of times to perform (>1)<br>numincr is element number increment<br>estart,eend,eincr is range of element numbers starting from estart to eend incremented by eincr (can use "all" for estart)<br>face is element face number</code></pre>
<h3 id="esplit" tabindex="-1">ESPLIT <a class="direct-link" href="#esplit">#</a></h3>
<pre class="language-txt"><code class="language-txt">ESPLIT,iel1,iel2,incr<br>ESPLIT,ALL<br>Splits all selected (or specified via iel1 and iel2) quad elements to tris.<br>In previous versions of ANSYS the newly created tri's are not recognized by graphical picking, but you can list them. In order for the database to be correct you have to either (a) issue NMODIF,ALL or (b)CDWRITE and CDREAD the model into a new database. This undocumented command may not be the best solution for every situation but definitely one to know about.<br>In later versions of ANSYS (5.5 or later), MOPT,SPLIT can be used instead prior to meshing.</code></pre>
<h3 id="fgen" tabindex="-1">FGEN <a class="direct-link" href="#fgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">FGEN, 2,\_ntot,1,\_ntot<br>Generates/copies nodal forces.</code></pre>
<h3 id="gcgen" tabindex="-1">GCGEN <a class="direct-link" href="#gcgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">GCGEN, Ccomp, Tcomp, NUMC, RADC, Tlab, Shape</code></pre>
<h3 id="ccomp" tabindex="-1">Ccomp <a class="direct-link" href="#ccomp">#</a></h3>
<pre class="language-txt"><code class="language-txt">Name of the component containing nodes on the contact surface [CM]. Assemblies are not permitted.</code></pre>
<h3 id="tcomp" tabindex="-1">Tcomp <a class="direct-link" href="#tcomp">#</a></h3>
<pre class="language-txt"><code class="language-txt">Name of the component containing nodes on the target surface. Assemblies are not permitted.</code></pre>
<h3 id="numc" tabindex="-1">NUMC <a class="direct-link" href="#numc">#</a></h3>
<pre class="language-txt"><code class="language-txt">Generate NUMC contact elements whose contact node is closest to the centroid of each target element face. If Shape = TRI, the program will generate 2\*NUMC CONTAC49 elements for each quadrilateral target element face. (That is, each triangular contact element base will be connected to NUMC contact nodes.) Defaults to an unlimited number of contact elements generated per target face.</code></pre>
<h3 id="radc" tabindex="-1">RADC <a class="direct-link" href="#radc">#</a></h3>
<pre class="language-txt"><code class="language-txt">Generate contact elements whose contact node is within a radius of RADC measured from the centroid of each target element face. Defaults to no limit on the radius.</code></pre>
<h3 id="tlab" tabindex="-1">Tlab <a class="direct-link" href="#tlab">#</a></h3>
<pre class="language-txt"><code class="language-txt">Label to identify the target surface of line or shell elements. The top surface will be used unless Tlab = BOT. Tlab is ignored if the target elements are solids.</code></pre>
<h3 id="shape" tabindex="-1">Shape <a class="direct-link" href="#shape">#</a></h3>
<pre class="language-txt"><code class="language-txt">Label that controls the shape of CONTAC49 element bases. Using the TRI feature can sometimes improve contact performance if the target elements have warped quadrilateral faces:<br>(blank) --<br>The contact element bases will have the same shape (triangular or quadrilateral) as the corresponding target element faces (default).<br>TRI --<br>The contact element bases will always be triangular.<br><br>Notes:<br>Generates 2-D contact (CONTAC48) or 3-D contact (CONTAC49) elements. Each contact element connects nodes on a target element face to a contact node. The "target" end of a contact element is called the contact element base. A target element face is defined as a face on a selected element whose nodes belong to the target component. If the selected element is a solid then the target face must also be external to the model, while for a line or shell element all nodes of the element will belong to the target face. The active element type attribute (TYPE) must be a contact element (CONTAC48 or CONTAC49) and must match the dimensionality of the target element. The other active attributes (MAT, TYPE, REAL, ESYS) will be used for the generated elements. The target elements must be defined before using this command. Midside nodes on target element faces are ignored.<br><br>It is highly recommended to use newer CONTA171-175 elements instead of CONTAC48-49.</code></pre>
<h3 id="klist-1" tabindex="-1">KLIST <a class="direct-link" href="#klist-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">KLIST,all,,,xyz<br>Shows more significant digits for keypoint listings.</code></pre>
<h3 id="krot" tabindex="-1">KROT <a class="direct-link" href="#krot">#</a></h3>
<pre class="language-txt"><code class="language-txt">Similar to NROTA but rotates keypoints. Can be viewed with /PSYM,NDIR,1 and is supported by CDREAD and CDWRITE</code></pre>
<h3 id="lmer" tabindex="-1">LMER <a class="direct-link" href="#lmer">#</a></h3>
<pre class="language-txt"><code class="language-txt">LMER,line1,line2,etc.<br>"Glues" lines together. Same command as LGLUE. See LGLUE for details on the usage of this command.</code></pre>
<h3 id="lspa" tabindex="-1">LSPA <a class="direct-link" href="#lspa">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSPA,line,area<br>Project a line onto an area. It appears that the line must be directly over the area, and the area needs to be flat.</code></pre>
<h3 id="lstr" tabindex="-1">LSTR <a class="direct-link" href="#lstr">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSTR,p1,p2,ndiv,space<br>LSTR is documented, NDIV and SPACE are not. Analogous to the L command, you can put number of divisions and spacing ratio.</code></pre>
<h3 id="lsx()" tabindex="-1">LSx() <a class="direct-link" href="#lsx()">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSx(line number, unit distance)<br>\*GET functions for the slope of a line for LSX, LSY, LSZ where unit distance is between 0 and 1 (0 is slope at keypoint 1, 1 is slope at keypoint 2)</code></pre>
<h3 id="mopt" tabindex="-1">MOPT <a class="direct-link" href="#mopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">MOPT,STAT,ALL<br>Shows ALL meshing controls available to user</code></pre>
<h3 id="mopt-1" tabindex="-1">MOPT <a class="direct-link" href="#mopt-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">MOPT,TSMO,OFF<br>Turns off smoothing if errors cause mesh smoothing failure [5.3]</code></pre>
<h3 id="mopt-2" tabindex="-1">MOPT <a class="direct-link" href="#mopt-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">MOPT,LSMO,ON<br>Turns on line smoothing option [off by default at 5.3]. Causes locations of nodes on the boundary to be optimized as part of the smoothing option.</code></pre>
<h3 id="mopt-3" tabindex="-1">MOPT <a class="direct-link" href="#mopt-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">MOPT,VSSM,OFF<br>Below describes an option for controlling "node relaxation" when using the VSWEEP command. This is needed when using VSWEEP with volumes that are axisymmetric, where you might have previously used VROT. The purpose of this option is to ensure that the nodes on opposite sides of the volume are positioned with identical radial and axial coordinates. When you create couples for cyclic symmetry, your nodes will match up precisely.<br>By default node relaxation is turned on. If you see that the source and target area are identical, you can issue the command.<br>If you have it turned off and you try to sweep a volume that changes in cross section, then you'll probably get bad quality elements. [command available in 5.5.1 and above]</code></pre>
<h3 id="nbetween" tabindex="-1">NBETWEEN <a class="direct-link" href="#nbetween">#</a></h3>
<pre class="language-txt"><code class="language-txt">NBETWEEN,n1,n2,nnew,type,value<br>identical to KBETWEEN - generates a node between two other nodes</code></pre>
<h3 id="nlist-1" tabindex="-1">NLIST <a class="direct-link" href="#nlist-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">NLIST,all,,,xyz<br>Shows more significant digits for node listings.</code></pre>
<h3 id="numcmp" tabindex="-1">NUMCMP <a class="direct-link" href="#numcmp">#</a></h3>
<pre class="language-txt"><code class="language-txt">NUMCMP,NODE,EORD<br>NUMCMP,ELEM,ELEM<br>These commands will cause the nodes and elements to be renumbered, after compression, to match the sequence in which they will be processed by the solver. This should be done after the WAVE command to (a) put the nodes in the element order and (b) put the elements in the new order.</code></pre>
<h3 id="p" tabindex="-1">P <a class="direct-link" href="#p">#</a></h3>
<pre class="language-txt"><code class="language-txt">P,node1,node2,value,,,,node3,node4<br>Applies pressure of "value" to element face defined by node1-node4. An alternative to SF command since this command does not require selection of nodes and element faces prior.</code></pre>
<h3 id="smdt" tabindex="-1">SMDT <a class="direct-link" href="#smdt">#</a></h3>
<pre class="language-txt"><code class="language-txt">SMDT,option,value<br>Change tolernace for solid modeling conditions. Affects all solid modeling operations, so be careful when using these values.<br>List of options:<br>1 - Tolerance for tesselation<br>2 - Tolerance for line on line<br>3 - Approx. tolerance<br>4 - Tolerance for point coincidence (default 1e-5 or 1e-4 -- e.g., can make tighter to very small dimensions)<br>5 - Tolerance for NURBS knot coincidence (default 1e-7, may be difficult to use)<br>6 - Tolerance for angle (default 1e-6, may be difficult to use)<br>7 - Machine precision tolerance<br>...up to 17...</code></pre>
<h3 id="splot" tabindex="-1">SPLOT <a class="direct-link" href="#splot">#</a></h3>
<pre class="language-txt"><code class="language-txt">SPLOT,area_min,area_max,area_inc,mesh<br>where 'area_min' is beginning area number, 'mesh' is the amount of lines to put on the surface (like a wireframe tesselation). I think this 'mesh' argument is what J. Crawford referred to as 'contour lines'. (That's a better description, actually) [6.0]<br><br>By default, if you just issue SPLOT with no arguments, it plots all surfaces with a 'surface mesh density' (wireframe tessellation density) of 4, I think.<br><br>Plot surfaces ANSYS uses for basis for geometric areas (similar to surface/face analogy in CADfix); works in 5.4 but will cause 5.5-5.7.0 to crash. Reintroduced at 5.7.1 and 6.0.<br><br>With the improvements to the solid modeling capabilities in ANSYS 6.0, the SPLOT command became more relevant in detecting potential problems with geometry.</code></pre>
<h3 id="tb%2Cogden" tabindex="-1">TB,OGDEN <a class="direct-link" href="#tb%2Cogden">#</a></h3>
<pre class="language-txt"><code class="language-txt">TB,OGDEN<br>Ogden Hyperelastic Material<br>similar to \*MOONEY for Ogden constitutive law for HYPER56, 58, &amp; 74.<br>[STI: Ogden material is available for 18x family of elements at 5.7, so it is strongly recommended to use those elements instead.]</code></pre>
<h3 id="tb%2Cprony" tabindex="-1">TB,PRONY <a class="direct-link" href="#tb%2Cprony">#</a></h3>
<pre class="language-txt"><code class="language-txt">For TB,PRONY, up to 10 pairs of constants can be input. [The documentation mentions only up to 6 pairs of constants for TB,PRONY.]<br>[STI: At 10.0, up to 100 pairs can be used and is documented.]</code></pre>
<h3 id="tchg" tabindex="-1">TCHG <a class="direct-link" href="#tchg">#</a></h3>
<pre class="language-txt"><code class="language-txt">TCHG, ELEM1, ELEM2, ETYPE2<br>Converts 20-node degenerate tets (e.g., SOLID95) to 10-node degenerate tets (e.g., SOLID92).<br>TCHG is documented in 5.5 and 5.6. It is undocumented but available at 5.4.</code></pre>
<h3 id="tegen" tabindex="-1">TEGEN <a class="direct-link" href="#tegen">#</a></h3>
<pre class="language-txt"><code class="language-txt">TEGEN,inum,numincr,estart,eend,eincr<br>Generates/copies element temperatures.<br>inum is number of times to perform (>1)<br>numincr is element number increment<br>estart,eend,eincr is range of element numbers starting from estart to eend incremented by eincr (can use "all" for estart)</code></pre>
<h3 id="tgen" tabindex="-1">TGEN <a class="direct-link" href="#tgen">#</a></h3>
<pre class="language-txt"><code class="language-txt">TGEN,inum,numincr,nstart,nend,nincr<br>Generates/copies nodal temperatures.<br>inum is number of times to perform (>1)<br>numincr is node number increment<br>nstart,nend,nincr is range of node numbers starting from nstart to nend incremented by nincr (can use "all" for nstart)</code></pre>
<h3 id="vext" tabindex="-1">VEXT <a class="direct-link" href="#vext">#</a></h3>
<pre class="language-txt"><code class="language-txt">VEXT,NA1,NA2,NINC,DX,DY,DZ,RX,RY,RZ,spacing_ratio<br>Specifies spacing ratio in volume extrusion direction with "spacing_ratio" value. Specify number of divisions in extrusion direction with ESIZE,,ndiv.</code></pre>
<h3 id="vmer" tabindex="-1">VMER <a class="direct-link" href="#vmer">#</a></h3>
<pre class="language-txt"><code class="language-txt">VMER,volu1,volu2,etc.<br>"Glues" volumes together. Same command as VGLUE. See VGLUE for details on the usage of this command.</code></pre>
<h3 id="modify-(%2Faux3-commands-(edit-results-file))" tabindex="-1">MODIFY (/AUX3 commands (Edit Results File)) <a class="direct-link" href="#modify-(%2Faux3-commands-(edit-results-file))">#</a></h3>
<pre class="language-txt"><code class="language-txt">MODIFY, SET, LSTEP, ITER, CUMIT, TIME, Ktitle<br>Fields LSTEP, ITER, CUMIT, and TIME accept the value of "-1" to retain current values.<br>Fields LSTEP, ITER, and CUMIT also accept the value of "0" to retain current values, although TIME does not.<br></code></pre>
<h3 id="%2Ffacet" tabindex="-1">/FACET <a class="direct-link" href="#%2Ffacet">#</a></h3>
<pre class="language-txt"><code class="language-txt">/FACET,FINE,n<br>Changes tesselation where n is from 0 (coarsest, default) to 10 (finest). For XOX Shapes geometry only (IGES default importing or Connection Kit "Allow defeature" importing) Functionality replaced by GMFACE command (see below). [5.5 Beta]</code></pre>
<h3 id="anf-file-format" tabindex="-1">ANF File Format <a class="direct-link" href="#anf-file-format">#</a></h3>
<pre class="language-txt"><code class="language-txt">The ANF File format is used by CADfix and the Connection Kit products to define ANSYS geometry, especially in the context of translating CAD geometries into ANSYS. This document covers the commands used in the ANF files.</code></pre>
<h3 id="gmface" tabindex="-1">GMFACE <a class="direct-link" href="#gmface">#</a></h3>
<pre class="language-txt"><code class="language-txt">GMFACE,FINE,n<br>Same function as /FACET,FINE,n above, controls tesselation of area where n is from 0 (coarsest, default) to 10 (finest). For XOX Shapes geometry only (IGES default importing or Connection Kit "Allow defeature" importing) [5.5, documented in 5.6 in Errata]<br>The GMFACE command can be issued before the default IGES import, or after import in TOPO REPAIR. In TOPO REPAIR, you can issue the command repeatedly (with APLOTs in between) until the desired level of refinement has been achieved. Once you end TOPO REPAIR (by pressing FINISH or issuing GAPFINISH), the GMFACE command has no effect.</code></pre>
<h3 id="ioptn" tabindex="-1">IOPTN <a class="direct-link" href="#ioptn">#</a></h3>
<pre class="language-txt"><code class="language-txt">IOPTN,FILTER,value<br>Filters IGES entities, including construction, infinite, blank, and lower-order entities (entities not used for BREP construction).<br>IOPTN,FILTER,ALL (ON) - Default behavior to filter all undesirables<br>IOPTN,FILTER,NONE - Turn off filtering and get everything<br>IOPTN,FILTER,BLANK - Filter only the blank entities (not to be displayed)<br>IOPTN,FILTER,LOWER - Filter the lower order entities and keep everything else</code></pre>
<h3 id="splot-1" tabindex="-1">SPLOT <a class="direct-link" href="#splot-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">SPLOT,area_min,area_max,area_inc,mesh<br>where 'area_min' is beginning area number, 'mesh' is the amount of lines to put on the surface (like a wireframe tesselation). I think this 'mesh' argument is what J. Crawford referred to as 'contour lines'. (That's a better description, actually) [6.0]<br><br>By default, if you just issue SPLOT with no arguments, it plots all surfaces with a 'surface mesh density' (wireframe tessellation density) of 4, I think.<br><br>Plot surfaces ANSYS uses for basis for geometric areas (similar to surface/face analogy in CADfix); works in 5.4 but will cause 5.5-5.7.0 to crash. Reintroduced at 5.7.1 and 6.0.<br><br>With the improvements to the solid modeling capabilities in ANSYS 6.0, the SPLOT command became more relevant in detecting potential problems with geometry.</code></pre>
<h3 id="*get%2C%2Cactive" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,ACTIVE,0,SOLU,CNVG<br>You can also \*GET the convergence indicator, where 0=not converged; 1=converged.</code></pre>
<h3 id="*get%2C-%2Ccommon" tabindex="-1">*GET, ,COMMON <a class="direct-link" href="#*get%2C-%2Ccommon">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,common,,stepcm,,int,1<br>Newton-Raphson option key</code></pre>
<h3 id="*get%2C%2Ccommon-2" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,common,,stepcm,,int,69<br>Adaptive descent key</code></pre>
<h3 id="*get%2C%2Ccommon-3" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,common,,soptcm,,int,39<br>Equation solver values:<br>FRONT = 0, SPARSE=8, JCG=7, JCGOUT=2, ICCG=5, PCG=3, PCGOUT=3, ITER=0, etc.</code></pre>
<h3 id="*get%2C%2Ccommon-4" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-4">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,common,,soptcm,,int,66<br>Auto Solve Method</code></pre>
<h3 id="*get%2C%2Ccommon-5" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-5">#</a></h3>
<pre class="language-txt"><code class="language-txt">PCG common blocks:</code></pre>
<h3 id="*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C138" tabindex="-1">*GET,parm,common,,stepcm,,int,138 <a class="direct-link" href="#*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C138">#</a></h3>
<pre class="language-txt"><code class="language-txt">PCG out-of-core key</code></pre>
<h3 id="*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C105" tabindex="-1">*GET,parm,common,,stepcm,,int,105 <a class="direct-link" href="#*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C105">#</a></h3>
<pre class="language-txt"><code class="language-txt">PCG Single precision key</code></pre>
<h3 id="*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C134" tabindex="-1">*GET,parm,common,,stepcm,,int,134 <a class="direct-link" href="#*get%2Cparm%2Ccommon%2C%2Cstepcm%2C%2Cint%2C134">#</a></h3>
<pre class="language-txt"><code class="language-txt">PCG Elem by Elem key</code></pre>
<h3 id="*get%2C%2Ccommon-6" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-6">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,parm,comm,,stepcm,,int,30<br>Number of nodal diameters:</code></pre>
<h3 id="*get%2C%2Ccommon-7" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-7">#</a></h3>
<pre class="language-txt"><code class="language-txt">Time &amp; time step values<br><br>\*get,TIME_END,common,,stepcm,,real,2<br>Get time at end of solve (TIME command)<br><br>\*get,DT_INIT,common,,stepcm,,real,23<br>Get initial time step (DELTIM command)<br><br>\*get,DT_MIN,common,,stepcm,,real,24<br>Get minimum time step (DELTIM command)<br><br>\*get,DT_MAX,common,,stepcm,,real,25<br>Get maximum time step (DELTIM command)</code></pre>
<h3 id="*get%2C%2Ccommon-8" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-8">#</a></h3>
<pre class="language-txt"><code class="language-txt">Convergence values (CNVTOL):<br><br>\*GET,param1,common,,stepcm,,real,28+i<br>Reference value of Lab<br><br>\*GET,param2,common,,stepcm,,real,48+i<br>Tolerance about VALUE<br><br>\*GET,param3,common,,stepcm,,int,34+i<br>Convergence norm<br><br>\*GET,param4,common,,stepcm,,real,132+i<br>Minimum reference value<br><br>The parameter "i" to use is based on which criteria you are looking for:<br>I = 1 for F convergence<br>I = 2 for M convergence<br>I = 3 for U convergence<br>and there are more...<br><br>I tested some of these out on a model, and they work if you entered a value that is not the default. If you use the default value for any of these items, the \*get returns a zero.</code></pre>
<h3 id="*get%2C%2Ccommon-9" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-9">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,OMEGAX,common,,acelcm,,real,31<br>*GET,OMEGAY,common,,acelcm,,real,32<br>*GET,OMEGAZ,common,,acelcm,,real,33<br>*GET,DOMEGAX,common,,acelcm,,real,34<br>*GET,DOMEGAY,common,,acelcm,,real,35<br>\*GET,DOMEGAZ,common,,acelcm,,real,36<br>Gets OMEGA and DOMEGA values for x, y, and z at the end of the load step.</code></pre>
<h3 id="*get%2C%2Ccommon-10" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-10">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,trf,common,,bfcom,,real,8<br>Get defined TREF value.<br><br>\*get,tunf,common,,bfcom,,real,10<br>Get defined TUNIF value.</code></pre>
<h3 id="*get%2C%2Ccommon-11" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-11">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,parm,common,,stepcm,,real,10<br>Get the DMPRAT value for constant damping ratio.</code></pre>
<h3 id="%2Fclear" tabindex="-1">/CLEAR <a class="direct-link" href="#%2Fclear">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CLEAR,SOLU<br>Clears the database of the current solution in memory while keeping the database intact. This nifty options allows you to dump the solution without exiting the program.<br>Note that in 5.7, you can choose to SAVE only the geometry &amp; loads with a new argument to that command. Then, a user can (/CLEAR and) RESUME the database, leaving only geometry in memory.<br>A related command is LCZERO, although this does not dump the solution but zeroes it out instead.</code></pre>
<h3 id="%2Fconfig-1" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,NOELDBW,num<br>Controls writing of results info<br>1=do not write results to _.db but only _.rst<br>2=do not write results to _.rst, only _.db<br>3=do not write to either _.rst or _.db)<br>[STI: I use /CONFIG,NOELDB,1 to give max memory during solution rather than filling up database space -db with results. Please see CSI's Tip of the Week on memory management for more details. This was documented from 5.7 onwards, I believe.]</code></pre>
<h3 id="%2Fgst" tabindex="-1">/GST <a class="direct-link" href="#%2Fgst">#</a></h3>
<pre class="language-txt"><code class="language-txt">/GST,Lab,Lab2<br>In batch mode, /GST,ON will write convergence data to file.gst using the ANSYS Graphics format (use Display utility to plot file).<br>On the other hand, /GST,ON,ON will write convergence data to file.gst using an XML format (use the Results Tracker utility from the ANSYS Product Launcher, Tools menu to plot file).</code></pre>
<h3 id="%2Fpnum" tabindex="-1">/PNUM <a class="direct-link" href="#%2Fpnum">#</a></h3>
<pre class="language-txt"><code class="language-txt">/PNUM,DOMAIN,1<br>Shows domains generated for domain decomposition solver (DDS). Beta at 5.6, 5.7, but it is documented at 6.0.</code></pre>
<h3 id="assoption" tabindex="-1">ASSOPTION <a class="direct-link" href="#assoption">#</a></h3>
<pre class="language-txt"><code class="language-txt">ASSOPTION,,FRONTAL<br>Resets element assembly option to frontal assembly rather than symbolic assembly for the sparse solver at 6.0.<br><br>ASSOPTION,,,,0.0<br>Do not drop non-zero terms from global matrix.<br><br>ASSOPTION,,,,,sing<br>For DANSYS, uses single core to assemble.<br><br>ASSOPTION,,pcg<br>Use symbolic assembly (default behavior from 6.0).</code></pre>
<h3 id="bcsoption" tabindex="-1">BCSOPTION <a class="direct-link" href="#bcsoption">#</a></h3>
<pre class="language-txt"><code class="language-txt">BCSOPTION,ropt,mopt,msiz,io_opt,dump_opt,dbg<br>Controls sparse solver options.<br>ROPT can be changed to mmd, metis, sgi, or wave (equation reordering method)<br>MOPT can be changed to forc or limit and MSIZ is size in MB (up to 2 GB) to force or limit sparse solver memory to a certain amount. (At 7.0, MOPT can also be set to default, incore, optimal, or minimum with MSIZ left blank to use default, in-core, optimal out-of-core, or minimum out-of-core solutions)<br>IO_OPT can be set to -1 to override default I/O saves. This keeps the solver memory in-core to avoid backing up the workspace (LN22). It prevents the solver from releasing/reallocating memory by keeping the solver memory permanently allocated during solution.<br>DUMP_OPT can be changed to asc or bin to dump input matrices to disk in ASCII or Binary format<br>DBG can be set to -5 which prints performance stats. (At 7.0 and above, this is same as setting to performance value)<br>[STI: Works only for 5.7 and above. See EQSLV,sparse,,-5 for 5.6 and prior. Documented at 7.0 and above]</code></pre>
<h3 id="celist" tabindex="-1">CELIST <a class="direct-link" href="#celist">#</a></h3>
<pre class="language-txt"><code class="language-txt">CELIST,,,,option<br>For the 17x contact elements which support MPC formulation, one can list the internally-generated MPC equations (CE)<br>CELIST,,,,ALL: list all constraint equations<br>CELIST,,,,INTE: list only internally-generated constraint equations associated with MPC-based contact<br>CELIS,,,,CONV: convert internal CEs to real CEs<br>All of the above options must be done in /SOLU after a SOLVE.<br>[STI: undocumented at 8.0]</code></pre>
<h3 id="cntr" tabindex="-1">CNTR <a class="direct-link" href="#cntr">#</a></h3>
<pre class="language-txt"><code class="language-txt">CNTR,PRINT,nlevel<br>CNTR,print,0 (default) - only print the troubleshooting when solution diverges in the end<br>CNTR,print,1 - above + print the troubleshooting when bi-section occurs<br>CNTR,print,2 - above + print the message for each load step<br>CNTR,print,3 - above + print the message for each sub-step<br>CNTR,print,4 - above + print the message for each iteration and much more</code></pre>
<h3 id="cutcontrol" tabindex="-1">CUTCONTROL <a class="direct-link" href="#cutcontrol">#</a></h3>
<pre class="language-txt"><code class="language-txt">CUTCONTROL,NOSHAPE,1<br>Tells ANSYS to not do any element shape-checking during the course of a nonlinear analysis.</code></pre>
<h3 id="cutcontrol-1" tabindex="-1">CUTCONTROL <a class="direct-link" href="#cutcontrol-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">CUTCONTROL,PIVSTOP,psvalue<br>When a negative pivot is encountered, ANSYS usually continues with the analysis.<br>Setting psvalue to 1 will cause ANSYS to bisect as soon as a negative pivot is encountered.<br>Setting psvalue to 2 will cause ANSYS to stop the solution as soon as a negative pivot is encountered.<br>This can be useful, for example, in a nonlinear buckling analysis as a means of determining when a limit load may be reached.</code></pre>
<h3 id="cutcontrol-2" tabindex="-1">CUTCONTROL <a class="direct-link" href="#cutcontrol-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">CUTCONTROL,CUTBACKFACTOR,cutvalue<br>For automatic time-stepping, this controls the bisection factor. By default, cutvalue is 0.5 (hence the term "bisection"), so ANSYS cuts the timestep in half and resolves if convergence is not achived in that timestep. This can control the cutback factor. (see related undocumented OPNCONTROL,OPENUPFACTOR command.)<br>[STI: now documented in latest ANSYS releases.]</code></pre>
<h3 id="dds" tabindex="-1">DDS <a class="direct-link" href="#dds">#</a></h3>
<pre class="language-txt"><code class="language-txt">For info on the Distributed Domain Solver, which is beta at 5.6 (released at 5.7), contact your ASD.<br>[STI: DDS needs to be compiled by the user at 5.6 beta; it is not a trivial task, so it may be better to use 5.7 production release of PDS]</code></pre>
<h3 id="direct" tabindex="-1">DIRECT <a class="direct-link" href="#direct">#</a></h3>
<pre class="language-txt"><code class="language-txt">DIRECT,on<br>Use of direct assembly of equations. This is automatically done for PLANE2, PLANE42, SOLID45, SOLID92, SOLID95, and thermal analyses.<br>[STI: Direct assembly of equations is available in ANSYS 5.7 for structural static, transient, modal, and full harmonic; thermal static and transient; electrostatics.]</code></pre>
<h3 id="eqslv" tabindex="-1">EQSLV <a class="direct-link" href="#eqslv">#</a></h3>
<pre class="language-txt"><code class="language-txt">EQSLV,AMG,toler<br>Algebraic MultiGrid Solver<br>Beta at 5.6, released at 5.7.<br>[STI: Uses CG methods but better scalability for SMP parallel processing]</code></pre>
<h3 id="eqslv-1" tabindex="-1">EQSLV <a class="direct-link" href="#eqslv-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">EQSLV,DOMAIN,toler<br>Distributed Domain solver<br>Beta at 5.6, released at 5.7. At 5.7, this is renamed EQSLV,DDS</code></pre>
<h3 id="eqslv-2" tabindex="-1">EQSLV <a class="direct-link" href="#eqslv-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">EQSLV,JCGX,toler<br>Special JCG solver which uses the previous solution as a starting vector for the new solution. Creates a \*.full file. Used with THOPT fast thermal solution method.</code></pre>
<h3 id="eqslv-3" tabindex="-1">EQSLV <a class="direct-link" href="#eqslv-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">EQSLV,SPARSE,,-5<br>Provides much more detailed information (performance stats, debug info) related to the sparse solver at 5.5 &amp; 5.6. In versions 5.7 and above, this has been changed to the BCSOPTION command<br><br>EQSLV,SPARSE,pvttol,-1<br>The PVTTOL value is the pivot tolerance value. Diagonal terms of the stiffness matrix are compared to the largest value (MAX) such that if the term is &lt; MAX \* PVTTOL, pivoting for that row is delayed. PVTTOL defaults to 0.0 and should be less than 0.1.<br><br>MKL_NPROCS environment variable<br>The MKL_NPROCS environment variable can be set to the number of processors for parallelization of the sparse solver at 5.6.2 and 5.7 on Windows NT only. (Other platforms do not need this environment variable)<br>[STI: This is NOT needed at 5.7.1 and above on Windows. Standard use of /config,nproc or the config57.ans file should be used, and this environment variable should be removed.]</code></pre>
<h3 id="fcent" tabindex="-1">FCENT <a class="direct-link" href="#fcent">#</a></h3>
<pre class="language-txt"><code class="language-txt">FCENT,OFF<br>For harmonic response analyses using OMEGA or CMOMEGA with CORIOLIS command, one would want Coriolis effects without the load vector. FCENT,OFF turns off the centrifugal forces associated with OMEGA or CMOMEGA. This will be the actual behavior at ANSYS 12.0, so it will not be needed beyond ANSYS 11.0.</code></pre>
<h3 id="fcentrif" tabindex="-1">FCENTRIF <a class="direct-link" href="#fcentrif">#</a></h3>
<pre class="language-txt"><code class="language-txt">FCENTRIF,OFF<br>Turns off centrifugal force effects. In a stationary frame of reference, centrifugal force is not in the equations of motion; however, it may be included in harmonic analysis at 11.0, so this command will turn that effect off.</code></pre>
<h3 id="fldata" tabindex="-1">FLDATA <a class="direct-link" href="#fldata">#</a></h3>
<pre class="language-txt"><code class="language-txt">FLDA,C2TA,MOME,0.0<br>FLDA,C2TA,PRES,0.0<br>Zero out damping term in momentum and pressure equations for a Flotran run.<br>[STI: I think C2TA is referring to the perturbation term in Eqn 7.2-10 in the Theory Manual -- the command minimizes diffusive term in transport equation (?)]</code></pre>
<h3 id="hropt" tabindex="-1">HROPT <a class="direct-link" href="#hropt">#</a></h3>
<pre class="language-txt"><code class="language-txt">HROPT, Method, MAXMODE, MINMODE, MCout<br>The MCout argument is undocumented, where it can take the values of "yes" or "no" (default). It writes out modal coordinates in an external text file called "jobname.mcf" for mode-superposition method.<br>[STI: from release 7.0 and above]</code></pre>
<h3 id="jobname.solc" tabindex="-1">jobname.solc <a class="direct-link" href="#jobname.solc">#</a></h3>
<pre class="language-txt"><code class="language-txt">Regarding the undocumented jobname.solc feature:<br><br>    Open up a text editor and place and /solu commands you want (not /SOLU itself). Main use I've seen of jobname.solc is really to change CNVTOL or NSUBST, although I think other options are available.<br>    Save file as jobname.solc in working directory.<br><br>If I recall correctly, jobname.solc will be deleted when it is read from, similar to jobname.abt. Also, I think it works on the next substep.</code></pre>
<h3 id="keymod" tabindex="-1">KEYMOD <a class="direct-link" href="#keymod">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYMOD,itype,knum,value<br>Allows changing element keyoptions during solution. Use it instead of KEYOPT in /SOLU to change keyoptions between load steps, such as for contact elements.</code></pre>
<h3 id="keyw-1" tabindex="-1">KEYW <a class="direct-link" href="#keyw-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,PR_SGUI,1<br>Supresses "Solution is done" message [5.5.3 and above]<br><br>Setting this keyword will not have an adverse effect on the menus, but to be safe, use the above setting for the SOLVE command only, then reset PR_SGUI to zero after SOLVE.</code></pre>
<h3 id="keyw-2" tabindex="-1">KEYW <a class="direct-link" href="#keyw-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,SIMPLOFF,1<br>At 5.6, the "Abridged Menu" with the Solution Control Wizard is the default. I find that since the abridged menu or Solution Control wizard doesn't support all nonlinear or dynamics options, this confuses customers. If you put this in your start56.ans file, this will always show the unabridged menu (similar to 5.5 and prior versions). (STI)</code></pre>
<h3 id="lssolve" tabindex="-1">LSSOLVE <a class="direct-link" href="#lssolve">#</a></h3>
<pre class="language-txt"><code class="language-txt">LSSOLVE,lsmin,lsmax,lsinc,,,,,,1<br>The ninth argument, when set to 1, solves load steps lsmin to lsmax with element shape checking disabled. (For related command, see SOLVE undocumented option.)</code></pre>
<h3 id="nropt" tabindex="-1">NROPT <a class="direct-link" href="#nropt">#</a></h3>
<pre class="language-txt"><code class="language-txt">NROPT,FULL,,ON,,A1,B1,C1,A0,B0,C0<br>A1,B1,C1 are for the first substep<br>A0,B0,C0, are for all other substeps<br>A=starting value for the descent parameter on this substep<br>B=multiplication factor for decreasing descent parameter<br>C=number of consecutive iterations with decreasing convergence value before multiplication factor is applied<br>Settings that have been good to me for some contact analysis problems have been nropt,full,,on,,,,1,0.7,5 This essentially would allow the contact elements to hold together longer by adaptive descent when physically they should not be contacting. They are slowly released for improved stability and convergence.</code></pre>
<h3 id="opncontrol" tabindex="-1">OPNCONTROL <a class="direct-link" href="#opncontrol">#</a></h3>
<pre class="language-txt"><code class="language-txt">OPNCONTROL,OPENUPFACTOR,opnvalue<br>For automatic time-stepping, this controls the factor by which the timestep is increased if convergence is attained easily. The value of opnvalue defaults to 1.5 (it was 2.0 in older releases of ANSYS) and should be greater than 1.0. (see related undocumented CUTCONTROL,CUTBACKFACTOR command.)<br>[STI: now documented in latest ANSYS releases.]</code></pre>
<h3 id="outeq" tabindex="-1">OUTEQ <a class="direct-link" href="#outeq">#</a></h3>
<pre class="language-txt"><code class="language-txt">OUTEQ outputs all results from equilibrium iterations while in /SOLU.</code></pre>
<h3 id="outs" tabindex="-1">OUTS <a class="direct-link" href="#outs">#</a></h3>
<pre class="language-txt"><code class="language-txt">OUTS,value<br>Controls writing of the jobname.stat file every value minutes (default is 6 minutes). The jobname.stat file is written in batch mode, and it provides the status (analogous to status bar in interactive mode) for some commands which may take a while. For example, for the SOLVE command, it will write out element formation, element solution, and PCG information every value minutes in batch mode. Can be issued in /PREP7 or /SOLU.</code></pre>
<h3 id="p-1" tabindex="-1">P <a class="direct-link" href="#p-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">P,node1,node2,value,,,,node3,node4<br>Applies pressure of "value" to element face defined by node1-node4. An alternative to SF command since this command does not require selection of nodes and element faces prior.</code></pre>
<h3 id="pds" tabindex="-1">PDS <a class="direct-link" href="#pds">#</a></h3>
<pre class="language-txt"><code class="language-txt">For info on the Probabilistic Design System, which is beta at 5.6 (released at 5.7), contact your ASD.</code></pre>
<h3 id="psdres" tabindex="-1">PSDRES <a class="direct-link" href="#psdres">#</a></h3>
<pre class="language-txt"><code class="language-txt">PSDRES,Lab,RelKey,WriteRPSD<br>The PSDRES command has an undocumented 3 rd argument which, when set to “ON”, will write an .rpsd file containing modal response PSDs. The contents of the file may be viewed in /AUX2, although the format is not documented.</code></pre>
<h3 id="pstres" tabindex="-1">PSTRES <a class="direct-link" href="#pstres">#</a></h3>
<pre class="language-txt"><code class="language-txt">To perform a prestressed "full" harmonic analysis, simply issue PSTRES,ON during the static analysis and PSTRES,ON during the harmonic analysis (similar to prestressed modal). Prestressed modal superposition and reduced harmonic are documented in the manuals.<br>[STI: I think that this may be documented at 5.7]</code></pre>
<h3 id="rsync" tabindex="-1">RSYNC <a class="direct-link" href="#rsync">#</a></h3>
<pre class="language-txt"><code class="language-txt">RSYNC,ON<br>Forces dump of buffer of element stresses after they are written.<br><br>RSYNC<br>RSYNC,filename<br>"Filename" is created when the load set is complete on the results file. The file will have one line giving the appropriate SET command to process that results set.</code></pre>
<h3 id="solve" tabindex="-1">SOLVE <a class="direct-link" href="#solve">#</a></h3>
<pre class="language-txt"><code class="language-txt">SOLVE,,,,,NOCHECK<br>Solves without checking elements. Useful to force ANSYS to solve despite elements which produce shape testing errors. It is assumed that the user is able to determine that this is appropriate for his/her situation<br>[STI: This arises when "bad" elements exist, most commonly from imported meshes of 3rd party products since ANSYS 'fails to mesh' instead of generating error elements, by default]</code></pre>
<h3 id="spopt" tabindex="-1">SPOPT <a class="direct-link" href="#spopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">SPOPT,PSD,NMODE,Elcalc,FRATIO,SIGNIF,IntKey,IntArr,NUME<br>“FRATIO,” or “frequency ratio for modal coupling,” limits covariance cross-terms by allowing the user to provide a ratio of the frequency of two modes to be included. For example, specifying FRATIO as “1” will only include diagonal terms of the covariance matrix. This only works in conjunction with numerical integration method, discussed next.<br>For numerical integration, the last four arguments apply. The last argument should be “NUME” to activate numerical integration. The other three options relate to the “integration significance level,” “integration key (value of 1 to 6),” and “work array length (value of 100 to 500),” although these are optional and need not be specified. Note that if numerical integration is used, the RPSD calculations in /POST26 will not work properly.</code></pre>
<h3 id="subopt" tabindex="-1">SUBOPT <a class="direct-link" href="#subopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">SUBOPT,,,,,,,,SubConvTol<br>Sets convergence tolerance for modal analysis w/ subspace method. SubConvTol defaults to 1e-5 [at 5.3] and can be tightened to 1e-12 or loosened to speed up convergence.</code></pre>
<h3 id="thopt" tabindex="-1">THOPT <a class="direct-link" href="#thopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">THOPT, Option, ReformTol, nTabPoints, TempMin, TempMax<br>Uses fast thermal solver option, beta at 5.6, released at 5.7.<br>The link above refers to the outline of the usage of THOPT.</code></pre>
<h3 id="tintp" tabindex="-1">TINTP <a class="direct-link" href="#tintp">#</a></h3>
<pre class="language-txt"><code class="language-txt">TINTP,,,,,,,npoint,ntol<br>By default, automatic time-stepping will target 20 points/cycle. The undocumented fields are "npoints" points/cycle with a tolerance of +/- "ntol" points/cycle.</code></pre>
<h3 id="trnopt" tabindex="-1">TRNOPT <a class="direct-link" href="#trnopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">TRNOPT, Method, MAXMODE, Dmpkey, MINMODE, MCout<br>The MCout argument is undocumented, where it can take the values of "yes" or "no" (default). It writes out modal coordinates in an external text file called "jobname.mcf" for mode-superposition method.<br>[STI: from release 7.0 and above]</code></pre>
<h3 id="vfopt" tabindex="-1">VFOPT <a class="direct-link" href="#vfopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">VFOPT,none<br>Usually, radiosity solution method writes viewfactor file (jobname.vf) to disk, then also stores it in memory. This option prevents writing VF file and only stores viewfactors in memory. Note that, upon exiting ANSYS, viewfactors are not stored in database jobname.db, so it would have to be recomputed later.<br>Viewfactor file (jobname.vf) can be large, so this option prevents writing to disk, useful if you know you won't be needing the VF file to read from for subsequent sessions.</code></pre>
<h3 id="vfsm" tabindex="-1">VFSM <a class="direct-link" href="#vfsm">#</a></h3>
<pre class="language-txt"><code class="language-txt">VFSM,encl_num,1.0<br>Scales viewfactors to force the sum to be 1.0 with the Radiosity Solver.<br>For some situations of closed enclosures, the viewfactors may not add up to 1 (such as if the mesh may be coarse). This scales all viewfactors to force them to be 1, so no space node/temperature needs to be defined for the closed case.<br>Please note that VFSM is now documented at ANSYS 12.0.1, but the syntax of the command has changed, so please refer to the Commands Reference for details.</code></pre>
<h3 id="*get%2C%2Cactive-1" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,ACTIVE,0,SOLU,CNVG<br>You can also \*GET the convergence indicator, where 0=not converged; 1=converged.</code></pre>
<h3 id="*get%2C%2Cactive-2" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,ACTIVE,,SET,NSET<br>Retrieves the total number of results sets which are stored in the results file.</code></pre>
<h3 id="*get%2C%2Ccint" tabindex="-1">*GET,,CINT <a class="direct-link" href="#*get%2C%2Ccint">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,CINT,cnum,CTIP,node,CONT,cnum,DTYPE,data<br>Gets the J-Integral or Stress Intensity Factor values. This is documented in 12.0 but maybe not as clearly as one may like. Upper-case letters are literal values used in this \*GET.<br><br>cnum: CINT ID number (same ID as when contour was defined with CINT,NEW,cnum)<br>node: node number at crack tip<br>cnum: contour number (from 1 to max where max is from CINT,NCON,max)<br>data: jint is J-integral value. Use k1, k2, or k3 for stress intensity factors. iin1 through iin3 are the interaction integrals 1-3. Default (if left blank) is jint.</code></pre>
<h3 id="*get%2C%2Ccommon-12" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-12">#</a></h3>
<pre class="language-txt"><code class="language-txt">To retrieve the node number at which the minimum or maximum results value occurs, first plot the nodal results of interest using the PLNSOL command, then execute one of the following:<br><br>\*GET,Parm,COMMON,,CPOST1,,INT,107<br>to retrieve the node at which the minimum result value occurs, or<br><br>\*GET,Parm,COMMON,,CPOST1,,INT,108<br>to retrieve the node at which the maximum result value occurs.<br><br>To determine whether the results are for the top, middle, or bottom of shells, use the following command:<br><br>\*GET,Parm,COMMON,,CPOST1,,INT,5<br>Where PARM=1 for top, =2 for middle, =3 for bottom.<br><br>There are many other potential quantities of interest listed in the cpost1.inc file in the custom\include directory.</code></pre>
<h3 id="*get%2C%2Cnode-1" tabindex="-1">*GET,,NODE <a class="direct-link" href="#*get%2C%2Cnode-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">There is an undocumented *GET/*VGET for reaction forces as follows:<br>*GET,par,NODE,n,RF,Lab<br>where Lab can be UX,UY,UZ,ROTX,ROTY,ROTZ, or FX,FY,FZ,MX,MY,MZ<br>The *VGET is the same.<br>[STI: *GET for reaction force is documented at 5.6 but \*VGET is not documented at 5.5 or 5.6]</code></pre>
<h3 id="*get%2C%2Cplnsol" tabindex="-1">*GET,,PLNSOL <a class="direct-link" href="#*get%2C%2Cplnsol">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,PLNSOL,,max<br>Works on both PLESOL and PLNSOL to obtain min/max values of last contour plot (use bmax/bmin to obtain bound value with Full Graphics on and ERNORM on). Note that the format is still "PLNSOL" as 3rd argument, although your plot may be of element solution (PLESOL).</code></pre>
<h3 id="*moper-1" tabindex="-1">*MOPER <a class="direct-link" href="#*moper-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*MOPER,sval(n),eloc(n,3),SGET,elem(n),label,comp<br>Finds stresses at certain points. This requires use of the \*MOPER,,,INTP undocumented command prior to executing this command.<br>sval(n): output array containing stresses at the points of interest<br>eloc(n,3): input array containing relative locations inside the elements (output from INTP)<br>elem(n): input array containing element numbers related to the relative locations of "eloc" (output from INTP)<br>label,comp: stress component of interest (see PLNSOL,S for examples)</code></pre>
<h3 id="%2Fgst-1" tabindex="-1">/GST <a class="direct-link" href="#%2Fgst-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/GST,Lab,Lab2<br>In batch mode, /GST,ON will write convergence data to file.gst using the ANSYS Graphics format (use Display utility to plot file).<br>On the other hand, /GST,ON,ON will write convergence data to file.gst using an XML format (use the Results Tracker utility from the ANSYS Product Launcher, Tools menu to plot file).</code></pre>
<h3 id="%2Fpgrph" tabindex="-1">/PGRPH <a class="direct-link" href="#%2Fpgrph">#</a></h3>
<pre class="language-txt"><code class="language-txt">/PGRPH,SAVE<br>Issue "SET" commands and "/PGRPH,SAVE" after each results set you want to save as PowerGraphics file format. A file called "jobname_LS_SS.pgr" will be generated for each results set based on LS (Load step) and SS (Substep).<br>[STI: This feature is available at 5.6 but officially released at 5.7. At 5.7, however, the procedure is very different. See POUTRES, PGWRITE, PGSAVE, PGRAPH, PGRSET commands at 5.7 for more details]</code></pre>
<h3 id="%2Fpgrph-1" tabindex="-1">/PGRPH <a class="direct-link" href="#%2Fpgrph-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/PGRPH,ON<br>This command will change ANSYS's behavior such that the PowerGraphics files ('jobname_LS_SS.pgr') will be used instead of the actual results set after subsequent "SET" commands. The PowerGraphics files provide faster plotting like PowerGraphics but still has some features/behavior present with Full graphics.<br>[STI: This feature is available at 5.6 but officially released at 5.7. At 5.7, however, the procedure is very different. See POUTRES, PGWRITE, PGSAVE, PGRAPH, PGRSET commands at 5.7 for more details]</code></pre>
<h3 id="avprin" tabindex="-1">AVPRIN <a class="direct-link" href="#avprin">#</a></h3>
<pre class="language-txt"><code class="language-txt">AVPRIN,,effnu<br>AVPRIN also works in /POST26 (it is documented only to work with /POST1). Issue AVPRIN,,effnu with effnu prior to any PRVAR or PLVAR commands (this is where the actual calculations are performed).<br>[STI: This works at 5.6.2; I don't know about earlier releases. The whole equivalent strain thing may be resolved in a cleaner fashion by 5.7.1, at the earliest]</code></pre>
<h3 id="dadd" tabindex="-1">DADD <a class="direct-link" href="#dadd">#</a></h3>
<pre class="language-txt"><code class="language-txt">dadd,labr,lab1,lab2,fact1,fact2,const<br><br>LABR = (FACT1 X LAB1) + (FACT2 X LAB2) + CONST<br><br>Where:<br>labr = DOF result (usually same as lab1)<br>lab1 = DOF used for calcs<br>lab2 = DOF used for cals<br>fact1 = Scale factor applied to lab1<br>fact2 = Scale factor applied to lab2<br>const = Constant value<br><br>This command subtracts out rigid body displacements so you can view deformed shapes better.<br>Note: when power graphics is on, the updated displacement may not be displayed after the command is entered and a "pldisp" is performed. You can either do an "ALLSEL$/REPLOT" or turn off power graphics "/GRAPH,FULL$/REPLOT".<br><br>[Verified in 6.1]</code></pre>
<h3 id="exprofile" tabindex="-1">EXPROFILE <a class="direct-link" href="#exprofile">#</a></h3>
<pre class="language-txt"><code class="language-txt">EXPROFILE,ldtype,load,value,pname,fname,fext<br>Exports ANSYS data as CFX-Pre profile data.<br>To export ANSYS data to CFX-Pre, perform the following steps:<br><br>  Flag surface or volumetric data to export by an "interface number" with the VAL2 argument of SF,,FSIN,,val2 or BFE,,FVIN,,val2 commands<br>  Use EXUNIT command to specify units for export.<br>  Use EXPROFILE command to generate the CFX profile file.<br><br>For EXPROFILE, the following are the arguments:<br>ldtype: SURF or VOLU<br>load: for ldtype=SURF, DISP, TEMP, or HFLU; for ldtype=VOLU, DISP, FORC, or HGEN<br>value: surface or volume interface number specified with VAL2 argument of SF,,FSIN or BFE,,FVIN<br>pname: field name in CFX profile file<br>fname, fext: filename and extension for CFX profile file<br><br>[STI: beta in 9.0, fully documented in 10.0]</code></pre>
<h3 id="exunit" tabindex="-1">EXUNIT <a class="direct-link" href="#exunit">#</a></h3>
<pre class="language-txt"><code class="language-txt">EXUNIT,ldtype,load,untype,name<br>Specifies units for export of ANSYS data as CFX-Pre profile data.<br>To export ANSYS data to CFX-Pre, perform the following steps:<br><br>    Flag surface or volumetric data to export by an "interface number" with the VAL2 argument of SF,,FSIN,,val2 or BFE,,FVIN,,val2 commands<br>    Use EXUNIT command to specify units for export.<br>    Use EXPROFILE command to generate the CFX profile file.<br><br>For EXUNIT, the following are the arguments:<br>ldtype: SURF or VOLU<br>load: for ldtype=SURF, DISP, TEMP, or HFLU; for ldtype=VOLU, DISP, FORC, or HGEN<br>untype: units are either COMM or USER<br>name: unit name is SI or FT for untype=COMM<br><br>[STI: beta in 9.0, fully documented in 10.0]</code></pre>
<h3 id="fsum" tabindex="-1">FSUM <a class="direct-link" href="#fsum">#</a></h3>
<pre class="language-txt"><code class="language-txt">FSUM,,CONT<br>Sums contact forces only for CONTA171-174 (at 5.6.1)</code></pre>
<h3 id="ftst" tabindex="-1">FTST <a class="direct-link" href="#ftst">#</a></h3>
<pre class="language-txt"><code class="language-txt">FTST,SEQV<br>Uses equivalent stress in fatigue calculations. Issue prior to FTCALC command. [5.4]</code></pre>
<h3 id="ftst-1" tabindex="-1">FTST <a class="direct-link" href="#ftst-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">FTST,SINT<br>Uses stress intensity in fatigue calculations. Issue prior to FTCALC command. [5.4]</code></pre>
<h3 id="nforce" tabindex="-1">NFORCE <a class="direct-link" href="#nforce">#</a></h3>
<pre class="language-txt"><code class="language-txt">NFORCE,CONT<br>Calculates nodal contact forces only for CONTA171-174 (at 5.6.1)</code></pre>
<h3 id="plesol" tabindex="-1">PLESOL <a class="direct-link" href="#plesol">#</a></h3>
<pre class="language-txt"><code class="language-txt">PLESOL,ENER,work<br>PRESOL,ENER,work<br>PLNSOL,ENER,work<br>PRNSOL,ENER,work<br>ESOL,var,elem,node,ENER,work (/POST26)<br>At 5.7, this will plot energy of elements. Specifically, "work" should be "elwk", "plwk", or "crwk" for elastic, plastic, and creep strain energies, respectively. This is available in 5.7 only.<br>For example, issue:<br>PLESOL,ENER,ELWK<br>to view elastic strain energies (at integration points). [STI: Note that this is for 5.7/5.7.1 only. At 6.0, PLESOL,SENE has been introduced instead, so this output is no longer valid.]</code></pre>
<h3 id="plesol-1" tabindex="-1">PLESOL <a class="direct-link" href="#plesol-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">PLESOL,NL,CREQ<br>PRESOL,NL,CREQ<br>Plots (or lists) cumulative creep strain. Similar to NL,EPEQ which is cumulative plastic strain.</code></pre>
<h3 id="plot33.f" tabindex="-1">PLOT33.F <a class="direct-link" href="#plot33.f">#</a></h3>
<pre><code>(ANSYS, Inc.)
Old source code (ANSYS 5.4?) for [PLOT33](https://github.com/affinitylinks/ansys.net/blob/main/1/plot33.f) program to read GRPH files (ANSYS Graphics Files)
</code></pre>
<h3 id="plvect" tabindex="-1">PLVECT <a class="direct-link" href="#plvect">#</a></h3>
<pre class="language-txt"><code class="language-txt">PLVECT,S,1<br>Plots only first principal stress instead of plotting all three vectors at once.</code></pre>
<h3 id="reswrite" tabindex="-1">RESWRITE <a class="direct-link" href="#reswrite">#</a></h3>
<pre class="language-txt"><code class="language-txt">RESWRITE,filename,load step, substep, time<br>Three additional fields are available in RESWRITE to specify the load step, substep, and time values. Basically, this will append results to the results file - it is a shorthand for using FILE and RAPPND, although the above undocumented options for RESWRITE give the user control over the substep number as well.</code></pre>
<h3 id="risk" tabindex="-1">RISK <a class="direct-link" href="#risk">#</a></h3>
<pre class="language-txt"><code class="language-txt">RISK,A1,A2,A3,A4,A5,A6,A7,A8,A9<br>Scatter, failure, or design analysis of SEQV or SINT from PSD analysis.<br>See Section 2.4 of the PSD Postprocessing Tip for details on this usage.</code></pre>
<h3 id="set" tabindex="-1">SET <a class="direct-link" href="#set">#</a></h3>
<pre class="language-txt"><code class="language-txt">SET, Lstep, SBSTEP, FACT, KIMG, TIME, ANGLE, NSET, ORDER<br>For the KIMG argument, the words phase or ampl can be used to plot or print phase angles or amplitude in /POST1 for a damped system.</code></pre>
<h3 id="srcs" tabindex="-1">SRCS <a class="direct-link" href="#srcs">#</a></h3>
<pre class="language-txt"><code class="language-txt">SRCS, NTURN, CURR, FREQ, PSYM, CSYM<br>NTURN: Number of turns in the coil winding. Input the total number of windings regardless of the symmetry used in the model.<br>CURR: Current per turn applied to the coil. Required only for a three-dimensional analysis (the value is calculated for a two-dimensional analysis and is returned as the parameter IWIND).<br>FREQ: Harmonic frequency of coil current (in Hertz). Required only if terminal voltage (VLTG) is to be calculated. Assumes that eddy currents are neglected.<br>PSYM: Planar symmetry factor. Used when a symmetric model is used through the cross-section of the coil. The factor is applied to the terminal parameter calculations. For example, if an axisymmetric coil is modeled with symmetry about the X-axis, the symmetry factor would be 2. Defaults to 1.<br>CSYM: Circumferential symmetry factor. Used only for three-dimensional analysis when a circular-symmetric model is used. For example, if a 90 degree sector is modeled, the symmetry factor (to scale to a full 360 degree model) would be 4. Defaults to 1.<br><br>Undocumented at ANSYS 5.7, SRCS is a macro that is still available in the "apdl" subdirectory in ANSYS 11.0. SRCS is limited to linear models. The LMATRIX command, however, is applicable to both linear and nonlinear models, so LMATRIX should be used instead of SRCS.</code></pre>
<h3 id="store" tabindex="-1">STORE <a class="direct-link" href="#store">#</a></h3>
<pre class="language-txt"><code class="language-txt">STORE,PSD,num,1<br>The last argument, when set to 1, will use evenly-spaced points for RPSD calculations rather than automatically-generated points. (The default is automatic and recommended)</code></pre>
<h3 id="tfun" tabindex="-1">TFUN <a class="direct-link" href="#tfun">#</a></h3>
<pre class="language-txt"><code class="language-txt">TFUN,reference,variable,psd_table,name<br>Plot transfer function.<br>See Section 6 of the PSD Postprocessing Tip for details on this usage.</code></pre>
<h3 id="tlsprm" tabindex="-1">TLSPRM <a class="direct-link" href="#tlsprm">#</a></h3>
<pre class="language-txt"><code class="language-txt">Macro performs s-parameter extraction for transmission line (HF Emag). Available in 6.1 in "docu" directory as a macro - see contents of macro file for usage.</code></pre>
<h3 id="_button-1" tabindex="-1">_BUTTON <a class="direct-link" href="#_button-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">Provides information on what button a user pushed in a dialog box. Useful in conjunction with the MULTIPRO command (see below)<br>0 if the OK button was pressed<br>1 if the Cancel button was pressed</code></pre>
<h3 id="_status" tabindex="-1">_STATUS <a class="direct-link" href="#_status">#</a></h3>
<pre class="language-txt"><code class="language-txt">Executing an ANSYS command, whether in a macro or elsewhere, generates the parameter \_STATUS. This parameter reflects the error status of that command:<br>0 for no error<br>1 for a note<br>2 for a warning<br>3 for an error<br>[STI: Please see Ch. 4.7 "Using the _STATUS and _RETURN Parameters in Macros" in the ANSYS APDL Guide for more information. A similar parameter _ERROR returns 0 for no error, 1 for warning, 2 for error after a command.]</code></pre>
<h3 id="*get%2C%2Cactive-3" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,ACTIVE,,SYNAME,,START,1<br>Gets the first 8 characters of the OS name (such as INTELNT). For more than 8 characters, use "9" for the START modifier. Note that some platforms may change between 5.4 through 5.6 (such as HPPA 8000).<br><br>A list of returned values for systems are shown below (for 8.0, although some systems listed below may no longer be supported):<br>RS6000 64<br>RS6000<br>HPPA 7000<br>HPPA 8000<br>HPPA 8000-64<br>HP IA64<br>SGI32<br>SGI64<br>SUN-USIII<br>FUJITSU<br>SOLARIS64<br>SOLARIS<br>DECAXP-OSF1<br>WINDOWS 64<br>INTEL NT<br>LINUX IA32<br>LINUX IA64<br>SUN4 SPARC</code></pre>
<h3 id="*get%2C%2Cactive-4" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-4">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,active,,date<br>Gets current system date (year, month, then day), for example, "20000704.0" for 07/04/2000.<br>Where year=nint(currdate/10000); month=nint((currdate-year*10000)/100); date=currdate-(year*10000+month\*100)<br>[STI: I haven't found a way to grab the current time yet...]</code></pre>
<h3 id="*get%2C%2Cactive-5" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-5">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,Parm,active,,update<br>At 5.5, get the current ANSYS version or update number. For example, in 5.5.2, it returns 19990107.0. For 5.5.3, it returns 19990405.0</code></pre>
<h3 id="*get%2C%2Cactive-6" tabindex="-1">*GET,,ACTIVE <a class="direct-link" href="#*get%2C%2Cactive-6">#</a></h3>
<pre class="language-txt"><code class="language-txt">*GET,parm,ACTIVE,,AGREE<br>Gets agreement number<br>[STI: I found this one for a customer wanting to encrypt a macro for a specific company (agreement number). Kinda cool, IMHO.]</code></pre>
<h3 id="*get%2C%2Ccommon-13" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-13">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,parm,COMMON,,d3com2,,int,31<br>Gets the status of /UIS,MSGPOP. When writing macros you sometimes don't want those pesky warning messages to pop up all the time, so you use /uis,msgpop,3 to suppress them and put them back on with /uis,msgpop,0. The problem is if your macro is called by a macro that changed the msgpop status, then you kind of mess stuff up. The answer is to get the msgpop status before you change it then set it back.<br><br>Example usage:<br>\*get,\_oldMPS,COMMON,,d3com2,,int,31<br>/uis,msgpop,3<br>! Do my stuff<br>! ...<br>! ...<br>! ...<br>! Done with the stuff I want to suppress messages on<br>/uis,msgpop,\_oldMPS</code></pre>
<h3 id="*return-1" tabindex="-1">*RETURN <a class="direct-link" href="#*return-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">*RETURN,value<br>Break reading from an input file<br>Where value=0 returns to the top level, -n returns n levels, n returns to level n<br>Useful when breaking *DO loops or *IF conditional statements, for example.<br>[STI: Implemented at 5.7?]</code></pre>
<h3 id="%2Faux02" tabindex="-1">/AUX02 <a class="direct-link" href="#%2Faux02">#</a></h3>
<pre class="language-txt"><code class="language-txt">Binary file dump. Enter /AUX02 to find list of applicable commands.<br><br>Example usage from John Swanson:<br><br>/aux2 ! enter file dump utility<br>file,foo,rst ! specify file name<br>form,long ! dump the full record of information<br>dump,2 ! dump the second record (index record) xxx is the 11th integer<br>ptr,xxx ! dump the record at pointer xxx (this is an index of all the load sets.) The last non-zero integer is the last load set. The others are the load sets in order. This is the way to get the other load cases. Call this pointer yyy<br>ptr,yyy+103 ! this is the location of the double precision header for this load set (103 skips the integer header) omegay is the 13th value.<br><br>If you look at the file fdresu.inc (File Descriptor Result) on the distribution media you will see a full description of the structure of the .rst file, and you may be able to derive or modify the above sequence for accessing other information.</code></pre>
<h3 id="%2Faux03" tabindex="-1">/AUX03 <a class="direct-link" href="#%2Faux03">#</a></h3>
<pre class="language-txt"><code class="language-txt">Results file editor. Enter /AUX03 to find list of applicable commands.</code></pre>
<h3 id="%2Fconfig-2" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,PRXY,1<br>At 6.0, if Poisson's ratio is not input, a warning is presented to the user to let him/her know that a default value of 0.3 will be used. This configuration command changes the warning to a note, so there will not be a ton of warning messages issued during solve.<br>An alternative is to add in the config6x.ans file:<br>PRXY_DEF = 1</code></pre>
<h3 id="%2Fconfig-3" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,NODBB,1<br>Toggles whether or not the backup database file (jobname.dbb) will be written upon SAVE or /EXIT</code></pre>
<h3 id="%2Fconfig-4" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-4">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,NOCMDDB,1<br>or<br>NO_CMDDB=1 in config56.ans<br>Supresses addition of command history in database log file (LGWRITE).</code></pre>
<h3 id="%2Fconfig-5" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-5">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,NOELDBW,num<br>Controls writing of results info<br>1=do not write results to _.db but only _.rst<br>2=do not write results to _.rst, only _.db<br>3=do not write to either _.rst or _.db)<br>[STI: I use /CONFIG,NOELDB,1 to give max memory during solution rather than filling up database space -db with results. Please see CSI's Tip of the Week on memory management for more details. This was documented from 5.7 onwards, I believe.]</code></pre>
<h3 id="%2Fconfig-6" tabindex="-1">/CONFIG <a class="direct-link" href="#%2Fconfig-6">#</a></h3>
<pre class="language-txt"><code class="language-txt">/CONFIG,RESUPRES,0<br>or<br>RESUPREC=0 in config145.ans<br><br>In ANSYS 14.5, stresses, strains, and other element quantities are written in the result file (.rst) as single precision to save space (DOF solution and reaction forces are still written as double-precision). This command, when invoked before solving, will store all results in double-precision.</code></pre>
<h3 id="%2Fdebug" tabindex="-1">/DEBUG <a class="direct-link" href="#%2Fdebug">#</a></h3>
<pre class="language-txt"><code class="language-txt">The /DEBUG command generates debugging at various points in the output. You can specify one of three formats for /DEBUG: solution debug format, element debug format, and general debug format.<br>[STI: Please see this link for more details on /DEBUG]</code></pre>
<h3 id="%2Fdemo" tabindex="-1">/DEMO <a class="direct-link" href="#%2Fdemo">#</a></h3>
<pre class="language-txt"><code class="language-txt">/DEMO,num,1<br>Allows graphics benchmarks to be performed (getting a rough idea of graphics card performance). This command rotates the model "num" number of times and prints a summary of stats.</code></pre>
<h3 id="%2Fdflab-1" tabindex="-1">/DFLAB <a class="direct-link" href="#%2Fdflab-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/DFLAB,dofnum,dlabel,flabel<br>Changes DOF #dofnum to "dlabel" (D) and Force to "flabel" (F). DOF numbers range from 1-32. For example, DOF number 1 is UX, 2 is UY, etc.<br>This should be the first command issued upon entering ANSYS.<br>/DFLAB,19,PRESSURE changes PRES label (#19) to PRESSURE</code></pre>
<h3 id="%2Fmstart" tabindex="-1">/MSTART <a class="direct-link" href="#%2Fmstart">#</a></h3>
<pre class="language-txt"><code class="language-txt">/MSTART,MTOOL,off<br>This turns off/on the Mechanical Toolbar. For ANSYS/Professional, if you want to start ANSYS without the Mechanical toolbar, add the following lines to your start56.ans file:<br>/MSTART,MTOOL,OFF<br>/MSTART,MAIN,ON<br>/MSTART,INPUT,ON<br>/MSTART,TOOL,ON</code></pre>
<h3 id="%2Fnerr" tabindex="-1">/NERR <a class="direct-link" href="#%2Fnerr">#</a></h3>
<pre class="language-txt"><code class="language-txt">/NERR,,,field<br>Ignores all error messages<br>If field is set to -1, ANSYS will keep running unless a fatal error occurs. All errors are written to jobname.out and jobname.err.<br>If field is set to -2, ANSYS will behave the same but errors are reported to jobname.err only, not jobname.out.</code></pre>
<h3 id="%2Ftrack" tabindex="-1">/TRACK <a class="direct-link" href="#%2Ftrack">#</a></h3>
<pre class="language-txt"><code class="language-txt">/TRACK,MonLevel,PrintLevel,SumLevel<br>The /TRACK command issues a message when the program logic enters and leaves some of the higher level subroutines. Subroutines TrackBegin and TrackEnd (see Chapter 6 of UPF Guide) set up the /TRACK command.<br>MonLevel is the level for timing monitoring. PrintLevel is the level for enter/exit printout, and SumLevel is the level at which the timing sum is output. Each of these arguments can be any value between 0 and 9 (default is 0).<br>You can use the /TRACK command to identify which section of code is causing the program to abort. For example, to flag up to eight levels of subroutines to determine when the program logic enters and leaves them, you would issue the command /TRACK,,8.<br><br>Another very useful feature is to use /TRACK to get contact element statistics during solution in a batch run. Use /TRACK,,1,-1 and you will see contact &amp; solution stats printed at the end of the run (batch only).</code></pre>
<h3 id="%2Ftxtre" tabindex="-1">/TXTRE <a class="direct-link" href="#%2Ftxtre">#</a></h3>
<pre class="language-txt"><code class="language-txt">/TXTRE,file,88<br>This option allows placement of an image on the screen (anywhere you want). A typical example of putting your own picture/logo in the bottom-right corner of the Graphics window is shown below:<br>/txtre,file,88,'MYLOGO','PNG',,2<br>/anum,1,13,1.5297,-0.98938<br>/lsym,1.556,-0.990,0,88,0.000,1<br>where "MYLOGO.PNG" is the name of your image file and "2" can be "0" for pixmap/bitmap, "1" or "jpeg" for JPEG, and "2" or "png" for PNG, as noted in the online-help for /TXTRE.<br><br>A similar command (this one is documented in /TXTRE) to replace the graphical ANSYS logo with your own is:<br>/txtre,file,51,'MYLOGO','PNG',,2</code></pre>
<h3 id="%2Fuis" tabindex="-1">/UIS <a class="direct-link" href="#%2Fuis">#</a></h3>
<pre class="language-txt"><code class="language-txt">/UIS,MSGPOP,4<br>Suppresses error message pop-up dialog box. (Error messages will still be recorded in the jobname.err file and output window/file.)</code></pre>
<h3 id="%2Fundo" tabindex="-1">/UNDO <a class="direct-link" href="#%2Fundo">#</a></h3>
<pre class="language-txt"><code class="language-txt">/UNDO,on<br>Turns on UNDO feature which is active for most commands (prior to session editor at 5.6). Saves a file to "jobname.undo". Valid options are "on, off, prompt, status".<br><br>UNDO<br>After /UNDO feature is activated above, this command actually undos the last command.</code></pre>
<h3 id="3d-graphics" tabindex="-1">3D Graphics <a class="direct-link" href="#3d-graphics">#</a></h3>
<pre class="language-txt"><code class="language-txt">By setting the environment variable ANSXXX to 1 and using OpenGL graphics (-d 3d), one can resize the window to any aspect ratio (not limited to max ratio of 1:1.67). Note that this doesn't work under Windows; it works for UNIX with OpenGL only (on HP-UX, you need to run the OpenGL version of ANSYS).</code></pre>
<h3 id="ansys-and-tcl%2Ftk-customization" tabindex="-1">ANSYS and Tcl/Tk customization <a class="direct-link" href="#ansys-and-tcl%2Ftk-customization">#</a></h3>
<pre class="language-txt"><code class="language-txt">John Swanson<br>Information on using Tcl/Tk with ANSYS to create customized GUI. Tcl/Tk is used in ANSYS, such as the Contact Wizard, Solution Control Wizard, or Materials GUI at 5.7/6.0.</code></pre>
<h3 id="ansys-and-uidl-customization" tabindex="-1">ANSYS and UIDL customization <a class="direct-link" href="#ansys-and-uidl-customization">#</a></h3>
<pre class="language-txt"><code class="language-txt">John Swanson<br>UIDL is the ANSYS language used to define the dialog boxes and Main Menu. This information is related to learning more about UIDL to create custom dialog boxes. An alternative is to use Tcl/Tk.</code></pre>
<h3 id="ansysstandard.tlb" tabindex="-1">ANSYSSTANDARD.TLB <a class="direct-link" href="#ansysstandard.tlb">#</a></h3>
<pre class="language-txt"><code class="language-txt">You can swap the command line to the bottom by making a small change to the GUI resource file:<br><br>In your ANSYS 6.1 directory, go to docu/english/toolbars. Edit ANSYSSTANDARD.TLB and change the line that says:<br>*ANS_STD.location: n<br>to<br>*ANS_STD.location: s<br>[where "n" is for north and "s" is for south]<br><br>Likewise, to change the location of the "Main Menu" from left to right, edit:<br>*ANS_MAIN.location: w<br>to<br>*ANS_MAIN.location: e<br>[where "w" is for west and "e" is for east]</code></pre>
<h3 id="cntr-1" tabindex="-1">CNTR <a class="direct-link" href="#cntr-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">CNTR,PRINT,nlevel<br>CNTR,print,0 (default) - only print the troubleshooting when solution diverges in the end<br>CNTR,print,1 - above + print the troubleshooting when bi-section occurs<br>CNTR,print,2 - above + print the message for each load step<br>CNTR,print,3 - above + print the message for each sub-step<br>CNTR,print,4 - above + print the message for each iteration and much more</code></pre>
<h3 id="debug" tabindex="-1">DEBUG <a class="direct-link" href="#debug">#</a></h3>
<pre class="language-txt"><code class="language-txt">When creating macros or input files, it is often useful to execute them one line at a time to determine where your programming logic breaks down. Placing this command as the first line in the file allows you to do this.<br>Type in "debug" to see command syntax.</code></pre>
<h3 id="dynamic-prompt-timeout" tabindex="-1">Dynamic Prompt Timeout <a class="direct-link" href="#dynamic-prompt-timeout">#</a></h3>
<pre class="language-txt"><code class="language-txt">The dynamic prompt appears for 2 seconds by default in 6.0. To lengthen the time before the dynamic prompt disappears, do the following:<br><br>1. Make a backup of the file 'C:\Program Files\Ansys Inc\ANSYS61\LIB\Euidl1.0\scripts\anscmdprompt.itk'<br>2. Edit 'anscmdprompt.itk' at line 468, which contains the string " set \_helpWinAfter [after 2000 \", and change the value to the time in miliseconds you wish to have the help visible.<br><br>[At 7.0, this is controlled by line 69 ' variable _helpWinTimer 20000' instead, and default is 20 seconds]</code></pre>
<h3 id="dynprompt57.ans-1" tabindex="-1">dynprompt57.ans <a class="direct-link" href="#dynprompt57.ans-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">At 5.7, the dynamic input file prompting was introduced, where the command format was displayed as you typed a command.<br><br>Modify "dynprompt57.ans" to add your own macro argument format, so when you type your own macros, the proper arguments are also displayed.<br>[STI: at 6.0, this file is called "dynprompt60.ans", where the last two numbers indicate the version number.]</code></pre>
<h3 id="graphics-startup" tabindex="-1">Graphics Startup <a class="direct-link" href="#graphics-startup">#</a></h3>
<pre class="language-txt"><code class="language-txt">GRPHENTR=1 in config56.ans<br>Allows startup of GUI mode without requiring the "-g" option when using command "ansys56".</code></pre>
<h3 id="jobname.solc-1" tabindex="-1">jobname.solc <a class="direct-link" href="#jobname.solc-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">Regarding the undocumented jobname.solc feature:<br><br>    Open up a text editor and place and /solu commands you want (not /SOLU itself). Main use I've seen of jobname.solc is really to change CNVTOL or NSUBST, although I think other options are available.<br>    Save file as jobname.solc in working directory.<br><br>If I recall correctly, jobname.solc will be deleted when it is read from, similar to jobname.abt. Also, I think it works on the next substep.</code></pre>
<h3 id="keyw-3" tabindex="-1">KEYW <a class="direct-link" href="#keyw-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,BETA,1<br>Turns on GUI filtering of Beta features in releases of ANSYS. Add to "start5x.ans" file prior to launching ANSYS.</code></pre>
<h3 id="keyw-4" tabindex="-1">KEYW <a class="direct-link" href="#keyw-4">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,ALPHA,1<br>Turns on GUI filtering of Alpha features? I find this pretty useless since the features are not as good/robust as beta (above), but it is cool to see upcoming features of ANSYS.</code></pre>
<h3 id="keyw-5" tabindex="-1">KEYW <a class="direct-link" href="#keyw-5">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,QALOGKEY,1<br>Shows detailed information from the granule (GRN) files in the jobname.log file. This is handy to find out what the granule function name is (Fnc_xxx) for a given dialog box/menu.<br><br>When plotting experimental and calculated curves for *MOONEY/*EVAL, this isn't recorded in the log file. Using this keyword will show the commands necessary to plot the curves together (or you can manually use /NOERASE like I do).</code></pre>
<h3 id="keyw-6" tabindex="-1">KEYW <a class="direct-link" href="#keyw-6">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,PR_SGUI,1<br>Supresses "Solution is done" message [5.5.3 and above]<br><br>Setting this keyword will not have an adverse effect on the menus, but to be safe, use the above setting for the SOLVE command only, then reset PR_SGUI to zero after SOLVE.</code></pre>
<h3 id="keyw-7" tabindex="-1">KEYW <a class="direct-link" href="#keyw-7">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,SIMPLOFF,1<br>At 5.6, the "Abridged Menu" with the Solution Control Wizard is the default. I find that since the abridged menu or Solution Control wizard doesn't support all nonlinear or dynamics options, this confuses customers. If you put this in your start56.ans file, this will always show the unabridged menu (similar to 5.5 and prior versions). (STI)</code></pre>
<h3 id="keyw-8" tabindex="-1">KEYW <a class="direct-link" href="#keyw-8">#</a></h3>
<pre class="language-txt"><code class="language-txt">keyw,cuwidget<br>Resets menus in case they may be grey and inaccessible.</code></pre>
<h3 id="keyw-9" tabindex="-1">KEYW <a class="direct-link" href="#keyw-9">#</a></h3>
<pre class="language-txt"><code class="language-txt">KEYW,PR_SGVOF,1<br>When redefining arrays in an interactive session, the user is prompted if they really want to redefine an existing array. The above command disables this prompt in ANSYS 15.0 and above, so if an existing array is redefined with the \*DIM command, it will do so silently.<br><br>See also \*DEL,,NOPR.</code></pre>
<h3 id="multipro" tabindex="-1">MULTIPRO <a class="direct-link" href="#multipro">#</a></h3>
<pre class="language-txt"><code class="language-txt">Useful means of prompting user for input for multiple variables (a cleaner alternative to *ASK).<br>The MULTIPRO macro is located in the "docu" directory (e.g., /ansys55/docu). This allows a user to specify a dialog box to prompt a user for several pieces of info (better alternative than several *ASK commands). View the MULTIPRO.MAC macro in a text editor to see how to use this command.<br>(Another nice use for MULTIPRO is a simple OK/Cancel dialog box)<br><br>Also, there is the Tcl version of the MULTIPRO macro with a Test macro.<br>Lastly, there is also a ANSYS and Tcl (10/20/99) package by John Swanson which covers a lot of applications of Tcl, including multiprompt.tcl.</code></pre>
<h3 id="outeq-1" tabindex="-1">OUTEQ <a class="direct-link" href="#outeq-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">OUTEQ outputs all results from equilibrium iterations while in /SOLU.</code></pre>
<h3 id="status-bar" tabindex="-1">Status Bar <a class="direct-link" href="#status-bar">#</a></h3>
<pre class="language-txt"><code class="language-txt">\*ABSET,title40,[BAR|KILL|BOTH]<br>Creates a customized status/progress bar for use during a macro to give feedback to the user as to what % complete the macro is at.<br><br>*ABCHECK,percent,newtitle<br>Updates the status bar to "percent" complete with information printed as "newtitle"<br>What is useful is to make "newtitle" a parameter (%PARAM%) as well.<br>It is recommended not to call *ABCHECK more than 20 times in a loop. Also, be sure to check \_RETURN values prior to issuing this<br><br>\*ABFINI<br>Removes status bar<br><br>[STI: See ALSM.MAC, VLSM.MAC, and JB_FORC.MAC macros in the Macros page for examples]</code></pre>
<h3 id="tlbrlist61.ans" tabindex="-1">tlbrlist61.ans <a class="direct-link" href="#tlbrlist61.ans">#</a></h3>
<pre class="language-txt"><code class="language-txt">Although undocumented, tlbrlist61.ans can be used to create customized toolbars. Copy this configuration file to your home or working directory. The contents of "tlbrlist61.ans" contain filenames, and these can be changed to point to different files.<br><br>The actual toolbar information is contained in ANSYSSTANDARD.TLB (icon toolbar) and ANSYSABBR.TLB (abbreviation toolbar). These can be copied and modified to suit one's needs, although one should know some Tcl/Tk and ANSYS to do this.</code></pre>
<h3 id="uvbrefresh" tabindex="-1">UVBREFRESH <a class="direct-link" href="#uvbrefresh">#</a></h3>
<pre class="language-txt"><code class="language-txt">UVBREFRESH updates the Main Menu (UIDL).<br>First, set the environment variable UIDLVB to 1. It can be set in your .cshrc file with "setenv UIDLVB 1".<br>In ANSYS, at the BEGIN level, type UVBREFRESH to re-index and re-read the granule files. Note that this doesn't work with the root menu MenuRoot.</code></pre>
<h3 id="~eui" tabindex="-1">~EUI <a class="direct-link" href="#~eui">#</a></h3>
<pre class="language-txt"><code class="language-txt">~eui,wm iconify .dlgAnsysGUI<br>Minimize ANSYS window<br><br>~eui,wm deiconify .dlgAnsysGUI<br>Maximize ANSYS window<br><br>[STI: Works for 6.1 and above]</code></pre>
<h3 id="~eui-1" tabindex="-1">~EUI <a class="direct-link" href="#~eui-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">~eui, 'puts [clock format [clock seconds] -format "%c"]'<br>This writes the current date and time to the Output Window/File.</code></pre>
<h3 id="*get%2C%2Ccommon-14" tabindex="-1">*GET,,COMMON <a class="direct-link" href="#*get%2C%2Ccommon-14">#</a></h3>
<pre class="language-txt"><code class="language-txt">*get,parm,COMMON,,d3com2,,int,31<br>Gets the status of /UIS,MSGPOP. When writing macros you sometimes don't want those pesky warning messages to pop up all the time, so you use /uis,msgpop,3 to suppress them and put them back on with /uis,msgpop,0. The problem is if your macro is called by a macro that changed the msgpop status, then you kind of mess stuff up. The answer is to get the msgpop status before you change it then set it back.<br><br>Example usage:<br>\*get,\_oldMPS,COMMON,,d3com2,,int,31<br>/uis,msgpop,3<br>! Do my stuff<br>! ...<br>! ...<br>! ...<br>! Done with the stuff I want to suppress messages on<br>/uis,msgpop,\_oldMPS</code></pre>
<h3 id="*moper-2" tabindex="-1">*MOPER <a class="direct-link" href="#*moper-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">*MOPER,Eloc(1,1),XYZ(1,1),INTP,Elem(1)<br>where:<br>*dim,XYZ,array,nPts,3<br>*dim,Elem,array,nPts<br>\*dim,Eloc,array,nPts,3<br><br>This command finds the element containing the XYZ point, rather than the element with the closest centroid. The Eloc array is the element coordinates of the point.<br>Compare this, for example, with the \*MOPER,,,ENEAR option.</code></pre>
<h3 id="*uilist" tabindex="-1">*UILIST <a class="direct-link" href="#*uilist">#</a></h3>
<pre class="language-txt"><code class="language-txt">*UILIST,filename,ext,dir<br>Lists the contents of a file to a 'pop-up' window when running interactively. It is similar to the *LIST command but this version runs from within a macro while *LIST does not.</code></pre>
<h3 id="%2Fan3d" tabindex="-1">/AN3D <a class="direct-link" href="#%2Fan3d">#</a></h3>
<pre class="language-txt"><code class="language-txt">/AN3D for 3D annotation is documented at 5.6. It is undocumented but available at 5.5.<br>The following are the ANSYS 5.5 /AN3D commands.<br><br>/AN3D,POIN,x,y,z<br>/AN3D,LINE,x1,y1,z1,x2,y2,z2<br>/AN3D,AREA,npt,x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4<br>/AN3D,ARRO,symsiz,x1,y1,z1,x2,y2,z2<br>/AN3D,TEXT,x,y,z,text<br>/AN3D,SYMB,itype,x,y,z,size</code></pre>
<h3 id="%2Fdev" tabindex="-1">/DEV <a class="direct-link" href="#%2Fdev">#</a></h3>
<pre class="language-txt"><code class="language-txt">/DEV,PSFN,NINC<br>Turn off incrementing of JPEG filenames (suppress the 'nnn' in jobnamennn.jpg).<br><br>/DEV,PSFN,NONINC<br>Resume incrementing of JPEG files.</code></pre>
<h3 id="%2Fdirget-1" tabindex="-1">/DIRGET <a class="direct-link" href="#%2Fdirget-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/dirget,parm,filename,fileext<br>Gets the list of files with the file extension "filename" or "fileext"<br>For example:<br>/dirget,\_str,all,tif<br>Gets all filenames with extension "TIF"<br>[STI: Note: This may only work on UNIX at 5.6.1, not on NT. I keep getting bombed out of ANSYS using this command on NT. Also, for 5.7 and above, look at the /INQUIRE command and strings for same functionality.]</code></pre>
<h3 id="%2Fencrypt-1" tabindex="-1">/ENCRYPT <a class="direct-link" href="#%2Fencrypt-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/ENCRYPT,Encryption_key,File_name,File_ext,Directory_Path/<br>The commands /ENCRYPT and /DECRYPT allow one to encrypt macros. See APDL Programmer's Guide for more details.</code></pre>
<h3 id="%2Fhold-1" tabindex="-1">/HOLD <a class="direct-link" href="#%2Fhold-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/HOLD,filename,timeint,timeout<br>Read a command from file "filename" if it exists. If it doesn't exist, wait "timeint" seconds, then keep trying again until "timeout" seconds.</code></pre>
<h3 id="%2Fpnum-1" tabindex="-1">/PNUM <a class="direct-link" href="#%2Fpnum-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/PNUM,DOMAIN,1<br>Shows domains generated for domain decomposition solver (DDS). Beta at 5.6, 5.7, but it is documented at 6.0.</code></pre>
<h3 id="%2Frmtmp-1" tabindex="-1">/RMTMP <a class="direct-link" href="#%2Frmtmp-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">Removes/closes the file specified in /INPUT after it is read. /RMTMP should be the last command in the input file.</code></pre>
<h3 id="%2Ftee" tabindex="-1">/TEE <a class="direct-link" href="#%2Ftee">#</a></h3>
<pre class="language-txt"><code class="language-txt">/TEE,(new,append,end),filename,ext,dir<br>Echos the input automatically to another text file designated as the model is created.<br>[STI: This is an official command in 5.6]</code></pre>
<h3 id="%2Ftxtre-1" tabindex="-1">/TXTRE <a class="direct-link" href="#%2Ftxtre-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/TXTRE,file,88<br>This option allows placement of an image on the screen (anywhere you want). A typical example of putting your own picture/logo in the bottom-right corner of the Graphics window is shown below:<br>/txtre,file,88,'MYLOGO','PNG',,2<br>/anum,1,13,1.5297,-0.98938<br>/lsym,1.556,-0.990,0,88,0.000,1<br>where "MYLOGO.PNG" is the name of your image file and "2" can be "0" for pixmap/bitmap, "1" or "jpeg" for JPEG, and "2" or "png" for PNG, as noted in the online-help for /TXTRE.<br><br>A similar command (this one is documented in /TXTRE) to replace the graphical ANSYS logo with your own is:<br>/txtre,file,51,'MYLOGO','PNG',,2</code></pre>
<h3 id="%2Fui" tabindex="-1">/UI <a class="direct-link" href="#%2Fui">#</a></h3>
<pre class="language-txt"><code class="language-txt">/UI, COPY, SAVE, JPEG<br>This undocumented option of the /UI command creates a JPEG file of the current graphics window. Also, see<br>/ui,copy,save,jpeg,graph,color,reverse,portrait or<br>/ui,copy,save,jpeg,grap,colo,norm,port,,100</code></pre>
<h3 id="%2Fui-1" tabindex="-1">/UI <a class="direct-link" href="#%2Fui-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/UI, WSIZE, xstart, ystart, xdist, ydist<br>This moves/modifies the graphics window size. Specify xstart as pixels from left side of screen, ystart as pixels from top of screen, and distance in pixels.<br>For example, issue "/ui,wsize,175,175,700,700/1.325" to see the window positioned 175 pixels from top left corner of screen with a width of 700 (preserving 1.325 aspect ratio).</code></pre>
<h3 id="%2Fui-2" tabindex="-1">/UI <a class="direct-link" href="#%2Fui-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">/UI,RAISE<br>Raises the Graphics Window to the forefront. Useful with /UI,copy,save,jpeg to make sure no other toolbars, widgets, etc. obscure view.</code></pre>
<h3 id="%2Fui-3" tabindex="-1">/UI <a class="direct-link" href="#%2Fui-3">#</a></h3>
<pre class="language-txt"><code class="language-txt">/ui,copy,save,png,graph,color,reverse,portrait,yes<br>Generates a PNG file of the active contents of the ANSYS Graphics window [verified at 6.0].</code></pre>
<h3 id="%2Fxml" tabindex="-1">/XML <a class="direct-link" href="#%2Fxml">#</a></h3>
<pre class="language-txt"><code class="language-txt">/XML,filename,ext,directory<br>This ANSYS command allows to write current load step results in XML format for use in Workbench Simulation.<br>Similar to other ANSYS commands, the 2nd through 4th arguments allow specification of the filename to save to. "Filename" defaults to the jobname, "Ext" defaults to "xml", and "Directory" defaults to the current working directory. Use of this command will write out geometry and results, as specified by the XMLOPT undocumented command.</code></pre>
<h3 id="abtoans-1" tabindex="-1">ABTOANS <a class="direct-link" href="#abtoans-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">From 8.0 onwards, an undocumented macro ABTOANS allows user to convert an ABAQUS input file to ANSYS.</code></pre>
<h3 id="ansys-and-tcl%2Ftk-customization-1" tabindex="-1">ANSYS and Tcl/Tk customization <a class="direct-link" href="#ansys-and-tcl%2Ftk-customization-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">John Swanson<br>Information on using Tcl/Tk with ANSYS to create customized GUI. Tcl/Tk is used in ANSYS, such as the Contact Wizard, Solution Control Wizard, or Materials GUI at 5.7/6.0.</code></pre>
<h3 id="ansys-and-uidl-customization-1" tabindex="-1">ANSYS and UIDL customization <a class="direct-link" href="#ansys-and-uidl-customization-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">John Swanson<br>UIDL is the ANSYS language used to define the dialog boxes and Main Menu. This information is related to learning more about UIDL to create custom dialog boxes. An alternative is to use Tcl/Tk.</code></pre>
<h3 id="cmwrite-2" tabindex="-1">CMWRITE <a class="direct-link" href="#cmwrite-2">#</a></h3>
<pre class="language-txt"><code class="language-txt">CMWRITE,Fname,Fext,Fdir,ipos,[_ | BLOCK | UNBLOCK]<br>Write component information to file, where ipos = 0,write at beginning of file, 1, write at end of file<br>For 7.0 and later.</code></pre>
<h3 id="dynamic-prompt-timeout-1" tabindex="-1">Dynamic Prompt Timeout <a class="direct-link" href="#dynamic-prompt-timeout-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">The dynamic prompt appears for 2 seconds by default in 6.0. To lengthen the time before the dynamic prompt disappears, do the following:<br><br>1. Make a backup of the file 'C:\Program Files\Ansys Inc\ANSYS61\LIB\Euidl1.0\scripts\anscmdprompt.itk'<br>2. Edit 'anscmdprompt.itk' at line 468, which contains the string " set \_helpWinAfter [after 2000 \", and change the value to the time in miliseconds you wish to have the help visible.<br><br>[At 7.0, this is controlled by line 69 ' variable _helpWinTimer 20000' instead, and default is 20 seconds]</code></pre>
<h3 id="exprofile-1" tabindex="-1">EXPROFILE <a class="direct-link" href="#exprofile-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">EXPROFILE,ldtype,load,value,pname,fname,fext<br>Exports ANSYS data as CFX-Pre profile data.<br>To export ANSYS data to CFX-Pre, perform the following steps:<br><br>    Flag surface or volumetric data to export by an "interface number" with the VAL2 argument of SF,,FSIN,,val2 or BFE,,FVIN,,val2 commands<br>    Use EXUNIT command to specify units for export.<br>    Use EXPROFILE command to generate the CFX profile file.<br><br>For EXPROFILE, the following are the arguments:<br>ldtype: SURF or VOLU<br>load: for ldtype=SURF, DISP, TEMP, or HFLU; for ldtype=VOLU, DISP, FORC, or HGEN<br>value: surface or volume interface number specified with VAL2 argument of SF,,FSIN or BFE,,FVIN<br>pname: field name in CFX profile file<br>fname, fext: filename and extension for CFX profile file<br><br>[STI: beta in 9.0, fully documented in 10.0]</code></pre>
<h3 id="exunit-1" tabindex="-1">EXUNIT <a class="direct-link" href="#exunit-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">EXUNIT,ldtype,load,untype,name<br>Specifies units for export of ANSYS data as CFX-Pre profile data.<br>To export ANSYS data to CFX-Pre, perform the following steps:<br><br>    Flag surface or volumetric data to export by an "interface number" with the VAL2 argument of SF,,FSIN,,val2 or BFE,,FVIN,,val2 commands<br>    Use EXUNIT command to specify units for export.<br>    Use EXPROFILE command to generate the CFX profile file.<br><br>For EXUNIT, the following are the arguments:<br>ldtype: SURF or VOLU<br>load: for ldtype=SURF, DISP, TEMP, or HFLU; for ldtype=VOLU, DISP, FORC, or HGEN<br>untype: units are either COMM or USER<br>name: unit name is SI or FT for untype=COMM<br><br>[STI: beta in 9.0, fully documented in 10.0]</code></pre>
<h3 id="keyw-10" tabindex="-1">KEYW <a class="direct-link" href="#keyw-10">#</a></h3>
<pre class="language-txt"><code class="language-txt">keyw,cuwidget<br>Resets menus in case they may be grey and inaccessible.</code></pre>
<h3 id="opfact" tabindex="-1">OPFACT <a class="direct-link" href="#opfact">#</a></h3>
<pre class="language-txt"><code class="language-txt">OPFA,3LEV<br>To perform a 3-level BOX-BEHNKEN factorial analysis:<br>OPTYP,FACT<br>OPFA,3LEV</code></pre>
<h3 id="plot33.f-1" tabindex="-1">PLOT33.F <a class="direct-link" href="#plot33.f-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">(ANSYS, Inc.)<br>Old source code (ANSYS 5.4?) for PLOT33 program to read GRPH files (ANSYS Graphics Files)</code></pre>
<h3 id="rmxport" tabindex="-1">RMXPORT <a class="direct-link" href="#rmxport">#</a></h3>
<pre class="language-txt"><code class="language-txt">RMXPORT,ATOV<br>Translate ANSYS ROM into Verilog-A<br><br>RMXPORT,VTOA<br>Translate Verilog-A into ANSYS ROM</code></pre>
<h3 id="rpnnn-1" tabindex="-1">RPnnn <a class="direct-link" href="#rpnnn-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">RPnnn, vinc1, vinc2, ...<br>The RPnnn command works similar to *REPEAT,nnn. For example, instead of using *REPEAT,3 to repeat the previous commands a total of 3 times, one can use RP3 instead. The second argument (value increment) of RPnnn is the same as the third argument of \*REPEAT.</code></pre>
<h3 id="xmlopt" tabindex="-1">XMLOPT <a class="direct-link" href="#xmlopt">#</a></h3>
<pre class="language-txt"><code class="language-txt">XMLOPT,options<br>This ANSYS command allows to write current load step results in XML format for use in Workbench Simulation.<br>"Options" can be the following:<br><br>    ALL - all results<br>    DOFS - nodal results<br>    S - stress results at the nodes<br>    EPEL - elastic strain<br>    EPPL - plastic strain<br>    (EPTO - total strain: obsolete)<br>    CONT - contact results<br>    PARM - parameters<br>    RFOR - reaction forces<br>    TG - thermal gradients at the nodes<br>    TF - thermal flux at the nodes<br>    (RESULTS - convenience label to include the S, EPTO, TG, TF results: obsolete)<br><br>See also /XML undocumented command to write results to file.</code></pre>
<h2 id="workbench-features" tabindex="-1">WORKBENCH FEATURES <a class="direct-link" href="#workbench-features">#</a></h2>
<h3 id="%2Fxml-1" tabindex="-1">/XML <a class="direct-link" href="#%2Fxml-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">/XML,filename,ext,directory<br>This ANSYS command allows to write current load step results in XML format for use in Workbench Simulation.<br>Similar to other ANSYS commands, the 2nd through 4th arguments allow specification of the filename to save to. "Filename" defaults to the jobname, "Ext" defaults to "xml", and "Directory" defaults to the current working directory. Use of this command will write out geometry and results, as specified by the XMLOPT undocumented command.</code></pre>
<h3 id="no_weak_springs" tabindex="-1">NO_WEAK_SPRINGS <a class="direct-link" href="#no_weak_springs">#</a></h3>
<pre class="language-txt"><code class="language-txt">Set variable "no_weak_springs" to "1" to disable use of weak springs in DesignSpace, if you do not want this feature.<br>"(DS will add weak springs for several reasons. First it will add them if it detects that your model is underconstrained. Secondly it will add them if it finds contact conditions other than bonded. This is because although you are specifying no-separation, the parts may still slide relative to one another. Weak springs are added in case you do not provide adequate constraint to prevent free sliding. Assuming you have real life loads and adequate constraints to stop free sliding, the weak springs should have no affect on your answer and the message can be ignored.)", Al Hancq (ANSYS, Inc.)</code></pre>
<h3 id="prefs.contourcount" tabindex="-1">prefs.contourCount <a class="direct-link" href="#prefs.contourcount">#</a></h3>
<pre><code>Add this line to your script file to be able to set the number of legend contours:
prefs.contourCount = 4; // sets the number of contours to 4
</code></pre>
<h3 id="rigid_moments" tabindex="-1">RIGID_MOMENTS <a class="direct-link" href="#rigid_moments">#</a></h3>
<pre class="language-txt"><code class="language-txt">Set DesignSpace variable "rigid_moments" to "1" if you want to use DesignSpace v5 moment application in DesignSpace v6.<br>"(In DesignSpace 5, when applying moments to a surface, this was done through stiff springs. This also made the surface act rigidly.<br>In DesignSpace 6, force couples are used instead to apply the moment, allowing the surface to deform. This is more representative of what happens when a moment is applied, as an applied moment should not make the surface act rigidly.<br>If the user wants to use the older DesignSpace 5 method of applying moments, setting the above variable will do so. This would also produce same answers in DesignSpace 6 as in 5, if the user saw a discrepancy between revisions.)"</code></pre>
<h3 id="wb-old-prestress" tabindex="-1">WB OLD PRESTRESS <a class="direct-link" href="#wb-old-prestress">#</a></h3>
<pre class="language-txt"><code class="language-txt">Workbench Mechanical 13.0 introduces a new way of performing prestressed modal analyses with the PERTURB command. To use the older method of prestressed modal analyses (PSTRES command), set the operating system environment variable "WB OLD PRESTRESS" to a value of 1. (On Windows, use the System control panel to define this environment variable.)<br><br>Note that in the Static Structural system, you need to save the MAPDL database under the "Analysis Settings" branch since the Modal analysis system needs to resume the database.</code></pre>
<h3 id="xmlopt-1" tabindex="-1">XMLOPT <a class="direct-link" href="#xmlopt-1">#</a></h3>
<pre class="language-txt"><code class="language-txt">XMLOPT,options<br>This ANSYS command allows to write current load step results in XML format for use in Workbench Simulation.<br>"Options" can be the following:<br><br>    ALL - all results<br>    DOFS - nodal results<br>    S - stress results at the nodes<br>    EPEL - elastic strain<br>    EPPL - plastic strain<br>    (EPTO - total strain: obsolete)<br>    CONT - contact results<br>    PARM - parameters<br>    RFOR - reaction forces<br>    TG - thermal gradients at the nodes<br>    TF - thermal flux at the nodes<br>    (RESULTS - convenience label to include the S, EPTO, TG, TF results: obsolete)<br><br>See also /XML undocumented command to write results to file.</code></pre>

</main>

        </div>
      </div>
    </div>
    <nav class="nav-social navbar navbar-expand navbar-dark justify-content-center">
  <div class="navbar-nav"><a class="nav-item nav-link" target="_blank" href="https://github.com/affinitylinks/ansys.net">
      <i class="nav-social-icon fab fa-github mr-2"></i>
      <span class="align-text-bottom text-white d-none d-lg-inline">github</span>
    </a></div>
</nav>

  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>
